<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>EIMY</title>
    <link>http://eimy.ink/</link>
    <description>Recent content on EIMY</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>2026 EIMY</copyright>
    <lastBuildDate>Tue, 24 Feb 2026 12:28:57 +0800</lastBuildDate>
    
        <atom:link href="http://eimy.ink/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>近况乱报 · 十一月刊</title>
        <link>http://eimy.ink/posts/2024/recent-nov/</link>
        <pubDate>Sat, 30 Nov 2024 23:07:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/recent-nov/</guid>
        <description>EIMY http://eimy.ink/posts/2024/recent-nov/ -&lt;h3 id=&#34;十月后日谈&#34;&gt;十月后日谈&lt;/h3&gt;
&lt;p&gt;简短地写点抽象话。&lt;/p&gt;
&lt;p&gt;十月下半和十一月上旬过得很糟糕，一度有点躯体化症状，中间去日本旅游休息了几天，即使这样还是到现在都还没完全恢复过来，叠加倒时差和期末实在有点地狱。&lt;/p&gt;
&lt;p&gt;总之，好消息是去向大概尘埃落定了，还剩行程需要下周去跟两边商量。坏消息是事情还没有完全结束，怪我太贪心想要二选二，但是情况大概率只允许二选一，所以我想出的解决办法是有三就能选二了。只是最近状态实在不太行，还在犹豫要不要把最后一场推到明年。&lt;/p&gt;
&lt;h3 id=&#34;no-music-no-life&#34;&gt;「No Music No Life」&lt;/h3&gt;
&lt;p&gt;面完十一月最后一场的第二天就乘上了去日本的飞机。不过不是说走就走，这次行程是暑假就定下来的，一开始就是冲着higedan和yorushika的live去的——在几年内目睹了几个喜欢的音乐人的病/逝以后不敢再等下一年了。&lt;/p&gt;
&lt;p&gt;hgdn的live是一如既往的纯粹的酒神式享受，「Rejoice」的选曲、乐队编排、唱功、互动、观众配合在我心中都是满分，即使只为了这一场演出去我也会觉得是值得的。正因如此反倒没有什么想过多评价的。&lt;/p&gt;
&lt;p&gt;而另外一边，对夜鹿的「前世」再演有很多感想没敢在sns上说&amp;hellip;单品来看不论是歌曲还是朗诵都很好，但我的整体感受是，nbn选择的作品表现形式（Live）和他的作品本身有一丝割裂，这一点在部分在第四堵墙边缘反复横跳的不知所措的观众们身上有所体现。这样的演出或许放在音乐剧/舞台剧那样有观众-演员分隔的体系下会比Live更合适。不过还是很高兴等了六七年终于能看到喜欢的乐队，二十多岁的自己实现了十几岁时的梦想。&lt;/p&gt;
&lt;p&gt;「No Music No Life」是塔店的slogan，在东京街头散步的时候看到一个巨大的店门看板突然很感动。那几天脑子里漂浮着「如果回不去的话就不回了，说明我不属于那里」的想法，平日里如此谨慎的人在涉及音乐的时候就会变得鲁莽。音乐永远流淌在我的生命里，希望有一天我有创作而不只是消费艺术的能力，为了能做到这个会继续努力！&lt;/p&gt;
- http://eimy.ink/posts/2024/recent-nov/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>近况乱报 · 十月刊</title>
        <link>http://eimy.ink/posts/2024/recent-oct/</link>
        <pubDate>Sat, 19 Oct 2024 17:07:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/recent-oct/</guid>
        <description>EIMY http://eimy.ink/posts/2024/recent-oct/ -&lt;p&gt;最近过着以两周为单位的忙季，牛马实在有点累了，决定停下手中的题目，回顾下过去的一个月。&lt;/p&gt;
&lt;h3 id=&#34;被霉运套牢&#34;&gt;被霉运套牢&lt;/h3&gt;
&lt;p&gt;经常炒股的韭菜应该都知道，当你以为股票不会再跌，又加仓准备抄底的时候&amp;hellip;（PS我不炒股）&lt;/p&gt;
&lt;p&gt;如果有人问为什么我的近况汇报全是负能量，我的回答是：站在你面前的，是活了二十余年的巨大倒霉蛋（neta：芙莉莲）。这么说有两个意思。其一是我意识到自己竟然活了二十几年了。十月初在匆忙中度过了生日，算了下年龄后感叹我的「一事无成」主线任务完成度又++了。另一层意思是，我好像真的运气不太好。前阵子为一个事件A准备了两星期，然后当天被鸽了。这时，我还能强装乐观地和人开玩笑说，哈哈要求不高，下一次对面人来了就好。接着又勤勤恳恳准备了两星期事件B。到事件B前一天早上，被告知不得不延期——这回连事件都没来。截止目前它还处于一个薛定谔状态，导致我的十一月schedule全部要重新安排，反正这次我是笑不出来了。&lt;/p&gt;
&lt;p&gt;把这些破事告诉别人以后，收获了一些安慰。它们大致分为几类，一类是以“我懂没事的”为代表的敷衍型理解，但我十分理解我的愤怒大多不被理解这件事，所以更多还是感谢。另一类以“你看有人比你更惨”为代表，假设我的快乐建立在他人痛苦之上，试图用比惨的逻辑来消解已知的不幸。我跟ta说他人即地狱，ta告诉我他人在地狱。还有一种非常斯多葛，说“你接下来会更加倒霉，应该感恩现在的幸运”，一言难尽。&lt;/p&gt;
&lt;p&gt;实在没办法，在被资本玩弄的日子里，吗喽决定用理智消解烦恼，认真思考了越努力越倒霉这个观点，先说结论，吗喽觉得努力的结果没有固定的方向性，但是不努力一定不亏。一般人对幸运的认知本质是一个动态的比值，是类似ROI的成果/付出的比值，说白了就是亏不亏。如果这个人非常努力，但是得到的很少，一般人会觉得是运气不好（亏了）；反之，如果一点没付出，但是获得了天降的成果，一般人会觉得是运气好（血赚）。基于这个模型，先来考察努力的朋友的情况：如果把时间尺度拉到人生的长度，成果大多会均值回归到和付出匹配的程度；而短期来看，对一些人来说是越来越幸运，另一些人反之，纯粹取决于处在哪个区间。然后如果不努力呢，有天降成果，就是运气好；没有，那也不算运气差（因为也没投入），这才是稳赚不赔的买卖。吗喽知道错了，下次还卷，毕竟吗喽是卷吗喽（谐音梗扣钱）。&lt;/p&gt;
&lt;p&gt;不过经常倒霉的努力蛋应该都知道，当你以为事情不可能再差，收拾好心情又准备重振内卷荣光的时候&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;及时封仓止损&#34;&gt;及时封仓止损&lt;/h3&gt;
&lt;p&gt;上个月报里也略有提到，其实已经计划好了止损的节点。我的动力源于自己也针对自己，不世俗却也不纯粹，但十几年的滚雪球已经滚成了让生活不舒服的重量，所以只希望能快点结束这茬，成为自私而琐碎的小市民一名。&lt;/p&gt;
&lt;p&gt;这大概是写过的随笔里最没逻辑的几篇了，但失序的生活也不配我有序的叙述，拭目以待下个月的情况吧。&lt;/p&gt;
- http://eimy.ink/posts/2024/recent-oct/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>近况乱报 · 九月刊</title>
        <link>http://eimy.ink/posts/2024/recent-sep/</link>
        <pubDate>Sat, 21 Sep 2024 23:07:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/recent-sep/</guid>
        <description>EIMY http://eimy.ink/posts/2024/recent-sep/ -&lt;h3 id=&#34;两点之间的连线&#34;&gt;两点之间的连线&lt;/h3&gt;
&lt;p&gt;开学有一段时间了，不知不觉又过上了两点一线的残念生活。因为不想有种轮回感（。），于是最初几次下课后我还努力地在学校周边散散步探探店，想着偶尔也在两点间画画曲线吧。后来大概是不愿意抽时间精力在这些事情上了，最后还是变成了老样子。&lt;/p&gt;
&lt;p&gt;于是我又开始想为什么。原因显然是，我就是那种在两点直接只愿意画一条直线的人，一定会选择最有效的方式达成目标。应该在哪里写过，旅友评价我「只向着目的地径直地走，不关注沿路的风景」（虽然其实只针对商业化景区，在海边我能坐一天）。尽管这样的选择可能会带来相应的成果，但在收获成果之前，最近首先感受到了它的后果——工作时长逐渐失衡，生活热情逐渐消退，好久没有那种Fi上头对书番音的感动了。&lt;/p&gt;
&lt;p&gt;不过这种根深蒂固的路径依赖（甚至所有习惯偏好问题）的本质都是奖惩机制，理论上只要建立一个新的系统就能用魔法打破魔法，这也是我后续的计划！现在只是涉及到沉没成本的问题，也就是暂时找不到一个足够强力的理由能说服我立刻抛弃旧的路径&amp;hellip;所以在条件允许我画曲线之前，再等等吧。&lt;/p&gt;
&lt;h3 id=&#34;败犬留学生太多了&#34;&gt;败犬留学生太多了！&lt;/h3&gt;
&lt;p&gt;（neta：《败犬女主太多了！》a1神作）&lt;/p&gt;
&lt;p&gt;讲完了生活，今年的重头戏显然是生活之外。春耕秋收，又到了留学生品尝自己种的有机恶果的季节。&lt;/p&gt;
&lt;p&gt;九月最初的两周不小心听说了一些别人的事，有些能坚定初心独善其身的人让我很佩服，有些迷惑行为只给我造成心态打击。但至少知道了大家都有自己的选择，不是所有人都把全部心血下注在功利的事业上，这很好。只不过可以的话，我还是想保持独立，对这种不得不获取信息的时刻充满恨意。&lt;/p&gt;
&lt;p&gt;总之在这方面暂时没有能乱报的，只能说目前没有轮回的逮虾户对我来说已经是最大的福报。&lt;/p&gt;
- http://eimy.ink/posts/2024/recent-sep/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>近况乱报 · 八月刊</title>
        <link>http://eimy.ink/posts/2024/recent-aug/</link>
        <pubDate>Sun, 11 Aug 2024 19:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/recent-aug/</guid>
        <description>EIMY http://eimy.ink/posts/2024/recent-aug/ -&lt;h3 id=&#34;乱报其一实习临近尾声未来驶向何方&#34;&gt;乱报其一：实习临近尾声，未来驶向何方&amp;hellip;&lt;/h3&gt;
&lt;p&gt;遇到了非常善良友好的人们，十一周的每天都过得轻松又开心，最终也顺利写完了（看起来有点用）的项目，可以说是至今最享受的一段实习。甚至因为没事就和人聊天，社交能力和英语口语都有了显著提升&amp;hellip;&lt;/p&gt;
&lt;p&gt;秋招也差不多开始了，明年的现在我会在哪里呢？即使我所做的全部都是为了增加未来的确定性，我对今后会发生什么还是没有半点自信。想想我竟然就这样像宛先のない手紙一样在可能性宇宙里流浪了好几年，接下来也要这样漂泊下去，真不可思议。&lt;/p&gt;
&lt;h3 id=&#34;乱报其二生活的版本更新&#34;&gt;乱报其二：生活的版本更新&lt;/h3&gt;
&lt;p&gt;最近切身地感受到我的生命发生着忒修斯之船式的变化。早就习以为常的部件逐渐生锈老化，成了我无法承受的负担；我为时间积淀的价值感到惋惜，但不得不把它们丢弃——我观察到这样的新陈代谢过程在悄无声息地变得频繁。&lt;/p&gt;
&lt;p&gt;其实早就知道自己的选择的后果是会不断目睹这样的事发生，我也知道再长的时间重量，面对现实捷径和主流标答的诱惑也不值一提，所以只有一种「果然如此」的感慨，但要消化完这份不甘心还需要一些时间吧。不久后还有一场几个月前约定的旅行，我一定会忍不住在这里让它收尾。我的takeaway是，就像那句「不经深思熟虑的人生不值得过」一样，没有被一方深思熟虑的关系也不值得建立。&lt;/p&gt;
&lt;p&gt;在对人际关系信心持续黯淡的同时，我的个人生活的蓝图变得更加完整了，知道了长此以往我能获得什么，要付出的代价是什么，为此又需要什么——这大概就是所谓的另一扇窗。&lt;/p&gt;
&lt;h3 id=&#34;乱报其三乱七八糟的作品摄入&#34;&gt;乱报其三：乱七八糟的作品摄入&lt;/h3&gt;
&lt;p&gt;最近看了尼采的悲剧的诞生&amp;amp;周国平讲尼采的书，尼采的哲学终究是一剂我服不下去的强心剂（虽然，终于能读下去已经是一种进步）。但有趣的是我对他本人产生了深刻的共鸣——简单来说，我也曾很喜欢叔本华的哲学，但随着年岁增长也开始想要否定他的悲观主义，它通过把问题撕碎来解决问题，却留下了一片更大的虚无。&lt;/p&gt;
&lt;p&gt;其他的，看完了小市民系列的小说，同作者的日常系推理我还是更喜欢冰菓，不过男女主性格我很喜欢；追平了推子的漫画，感想正如网友说的「感情本漫画就是爱和神木光play的一环」；还有惯例地每天都在看动画，有空会写季度总结。感谢这些作品在引起我日渐麻木的内心中的波澜方面作出的贡献。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;其实还有更多值得提及的心理/观念变化，但决定静观其变（到年底）了。&lt;/p&gt;
- http://eimy.ink/posts/2024/recent-aug/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>2024毕业季，瓷饭碗道出的人文无用论</title>
        <link>http://eimy.ink/posts/2024/on-university/</link>
        <pubDate>Sun, 30 Jun 2024 15:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/on-university/</guid>
        <description>EIMY http://eimy.ink/posts/2024/on-university/ -&lt;blockquote&gt;
&lt;p&gt;祈祷当事人和我的IRL同学永远不要发现这篇文章（虽然他们100%不会上github）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;事情是这样的——&lt;/p&gt;
&lt;p&gt;网上冲浪时听说，我的高中兼大学同学在Red上随手发了一篇本科毕业一周年纪念帖，然后喜提炎上和众多骂声。我就好奇地去看了看写了什么，内容里涉及到的争议性观点有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本科时觉得英语是天坑专业，想过转码转商，但一年后对本科人文教育心怀感恩&lt;/li&gt;
&lt;li&gt;反对文科无用论（这层意思是我擅自推敲出来的）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而评论区的声音大多认为：博主在“何不食肉糜”，文科==失业。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;说实话，我看到公众观点时相当震惊，因为我没想到「感恩复旦本科英文系的人文教育」是一种不能被公开诉说的想法。一直以来，虽说我自己还在尝试与这个和当下毫不相干的专业和解，但至少我会尊重甚至佩服曾在那里探索价值的同学，一些怀着没有被社会化的理想主义、能真诚地说出「I don&amp;rsquo;t regret it」的人们。而反观帖子下大多数发言，它们仿佛在告诉我，如今的简中互联网不再允许你们赞美人文、歌颂「自由而无用」，因为这里的政治正确是功利主义导向的大学教育。想不到我（们）和主流社会之间的裂痕已经如此之深。&lt;/p&gt;
&lt;p&gt;我自认为对大学之“用”一向持辩证态度，或者说我觉得它就是一体两面的。一方面，我还记着曾经精读课上读到的&amp;quot;Some Ideas of A University&amp;quot;里写的，也是我倾向于认为大学对我的意义：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip; it aims at raising the intellectual tone of society, at cultivating the public mind, at purifying the national taste, at supplying true principles to popular enthusiasm and fixed aims to popular aspiration, at giving enlargement and sobriety to the ideas of the age, at facilitating the exercise of political power, and refining the intercourse of private life.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;另一方面我也理解支持作为工具的大学教育，因为不是每个人都有前者这样的兴趣或是抱负，把前者强加到所有人的意愿上是一种背叛性质的傲慢。这点在随想的blog post里也提到过。可能只是我的体感，我觉得曾经的社会态度是容忍这部分的言论自由的，至少工具教育没有广受推崇，精神追求也不会遭人围攻。&lt;/p&gt;
&lt;p&gt;但近年来我观察到的趋势是，公众态度开始完全偏向功利教育的这一侧，甚至形成了&amp;quot;A Cult of STEM&amp;quot;。大学彻底沦为了一种投资，一个能被市场量化价值的社会符号，以至于任何无法带来世俗价值的选择都会被贬为对「普通人」人生不负责任的精英主义异教。这一篇Red帖子下清一色的骂声就是最好证据。&lt;/p&gt;
&lt;p&gt;至于原因，我想没有人会比正处于水深火热的年轻人更能深切/切身地明白问题的症结。这里，我选择提一则友校上交的趣闻，作为对理工科至上主义问题根源的一种解答。最近毕业季，据说上交赠予毕业生的礼物是一个校名瓷碗。为什么要送个碗？校方没有多说什么，而是把解释权交给了大众，收到了很多好笑的解读。其中最热门的一条是，有人翻出了几十年前某届毕业礼物照片，那时给毕业生发的是一个铁饭碗&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。恐怕就是这只瓷饭碗，见证了经济浮沉带来的教育意义的变迁。&lt;/p&gt;
&lt;p&gt;说到这里&amp;hellip;不论应试与否，我受过的所有写作训练都推崇针对问题提出自己的解决，或是文章末尾从一个较低的层次升华到较高的，比如从家到国，从个人到社会。但每次写这种反思社会议题的随笔时，我都没法遵守这个传统，不如说我反倒有了更多的问题，反而意识到这不是只看了寥寥数本经济学课本、几篇哲理散文的人就能去指点江山的问题，于是我只能从社会感慨凝华到个人埋怨，关掉网页，默默给同学发了消息——「谁来救救人文」。&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;以防有人在读英文翻译，中文里饭碗 is a metaphor for a  job，铁饭碗==secure job，而瓷的就&amp;hellip;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
- http://eimy.ink/posts/2024/on-university/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>近况乱报 · 六月刊</title>
        <link>http://eimy.ink/posts/2024/recent-jun/</link>
        <pubDate>Sat, 08 Jun 2024 15:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/recent-jun/</guid>
        <description>EIMY http://eimy.ink/posts/2024/recent-jun/ -&lt;p&gt;自从开始在美国搬砖以后，语言系统变得越来越混乱了。一天大部分时间接触的是二语，除此以外的时间是三语（说来奇怪，我自言自语的默认语言是日语），反倒是母语没有什么使用的余地了。总之，我就名正言顺地不统一成一个语言了。&lt;/p&gt;
&lt;p&gt;时间拉回前阵子还没有朝九晚五的五月。五月头上去DC玩了几天，很干净的城市，喜欢那里的太阳和博物馆。回来以后每天做做题，看看书，弹弹琴，散散步。值得一提的是终于看完了《经济学原理》，上次计划看已经是四五年前的事了。有时候会突然忘记，如果我最终想要的只是阳光音乐知识这种免费的东西，大费周章到了今天的地步是为了什么来着&amp;hellip;？なんか納得いかないんだ。&lt;/p&gt;
&lt;p&gt;实习开始以后的每天就是「申し訳ない每日」。总觉得大家人都太好了，自己的表现却连自己都没法接受，感到很愧疚。一旦到了社交场合，我个人身上所有紧绷的阴暗特质就暴露无遗，自然真诚的社交都有些困难，語彙力もコミュ力もどんどん雑になってる&amp;hellip;我拥有了一些特质的就意味着我不会拥有另一些，这是过往各种选择的積み重ね。でもなんか納得いかないんだ。&lt;/p&gt;
&lt;p&gt;想起另一件事，看过一篇语言学的论文，说人在讲不同语言的时候会体现出不同的性格（倾向）。其实我自己也有这样的感觉，在这里说英语的时候会变得稍微浮夸一点，日本旅游的时候说日语又明显感到很拘谨。虽然是很有趣的语言现象，但如果是这样的话，岂不意味着我在说非母语的时无法be myself？なんか納得いかないんだ&amp;hellip;&lt;/p&gt;
- http://eimy.ink/posts/2024/recent-jun/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>一次开发LLM应用的尝试</title>
        <link>http://eimy.ink/posts/2024/llm-app-dev/</link>
        <pubDate>Tue, 21 May 2024 09:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/llm-app-dev/</guid>
        <description>EIMY http://eimy.ink/posts/2024/llm-app-dev/ -&lt;p&gt;最近参与了一个HCI实验室项目的LLM应用开发部分，在不涉及敏感信息的前提下记录点开发过程和感想。&lt;/p&gt;
&lt;h2 id=&#34;项目介绍&#34;&gt;项目介绍&lt;/h2&gt;
&lt;p&gt;项目目的和conceptual的说明略，只能讲讲技术性的东西。&lt;/p&gt;
&lt;p&gt;这个应用的主要功能是「将用户输入的故事文本初步转化为动画，并允许用户个性化修改」。&lt;/p&gt;
&lt;p&gt;下面是简陋的前端页面1和2：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一页提供「chatbot辅助撰写故事」和「AI故事拆分」的功能。后者可以一键把一个较长的故事拆分成几个剧情段落，以方便后续动画生成，也是基于llm实现。&lt;/li&gt;
&lt;li&gt;第二页是一个动画编辑器。在进入这一页时，应用会自动把上一页生成完毕的动画元素摆放在画布相应位置（即提供动画的初稿），用户可以按需自行添加、修改元素，最后通过右下角导出视频。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;./index.assets/enter-prompt-to-segment.png&#34; alt=&#34;enter-prompt-to-segment&#34;&gt;&lt;/p&gt;
&lt;img src=&#34;./index.assets/editor-auto-position.png&#34; alt=&#34;editor-auto-position&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;h2 id=&#34;项目技术&#34;&gt;项目技术&lt;/h2&gt;
&lt;p&gt;采用前后端分离，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;后端基于Python+Django框架，MongoDB作为数据库，用celery库实现异步任务；最开始使用GPT3.5作为文本生成的模型，后因合规性问题转为某开源LLM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前端整体基于React.js，动画编辑器的部分因没有合适组件，整合了一个开源但技术略老旧的编辑器网页（html/css/js三件套）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;开发过程中的挑战解决&#34;&gt;开发过程中的挑战&amp;amp;解决&lt;/h2&gt;
&lt;h3 id=&#34;后端&#34;&gt;后端&lt;/h3&gt;
&lt;p&gt;原先觉得处理第三方llm api的部分会比较麻烦，毕竟之前没有接触过，外加llm的对话性质必然牵涉到一些项目里的异步处理。但后来因为和pm了解了下发现项目体量暂时不大&amp;amp;只是demo阶段，没有分布式问题，所以可以省略很多不必要技术处理，于是这部分倒是很快地处理完了。&lt;/p&gt;
&lt;p&gt;实际开工后发现真正的难点在prompt engineering。这个应用总共涉及到两次调api做文本生成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一次是把完整的故事文本拆分为几个情节段落（story to plots），每个plot包括剧情简述、出场人物、背景/环境设定、道具；&lt;/li&gt;
&lt;li&gt;第二次是把每个plot转化为可以摆放在画布上的动画元素信息（plot to elements），信息需要包括大小、位置等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;第一个任务没什么问题，因为文本分析还算是大模型的舒适区内的事情。&lt;/p&gt;
&lt;p&gt;但是在调第二个任务时明显感觉到很难用它来做位置推理。&lt;/p&gt;
&lt;p&gt;一方面，llm直接生成的位置相当零乱。尝试了很多办法以后，觉得能提高效果的是更精细化的prompt——prompt中带有位置区间的constraint + 文字表述要求的大致位置区间 + 位置区间的数字定义（x 到 y之间算bottom-left），然后给出一些例子。&lt;/p&gt;
&lt;p&gt;另一方面，对于性能一般的大模型，在调prompt时需要考虑一些trade off，如果一次性给出过量文本指示，其中一部分细节会被遗漏；但是如果要分段提供，又会大幅增加响应ie用户等待的时间。&lt;/p&gt;
&lt;img src=&#34;./index.assets/image-20240521102930779.png&#34; alt=&#34;image-20240521102930779&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;p&gt;Prompt engineering的问题，最终也没有非常完美的解决，只能说在model自身实现突破前尽量平衡上述问题。&lt;/p&gt;
&lt;h3 id=&#34;前端&#34;&gt;前端&lt;/h3&gt;
&lt;p&gt;前文也有提到，动画编辑器的部分因没有合适React组件，搜遍各种开源仓库也只找到一个三件套技术栈的静态网页，于是问题就变成了怎么把这个静态网页融入React项目。&lt;/p&gt;
&lt;p&gt;最开始考虑的是把动画编辑器组件化，但是编辑器的源代码太过于臃肿混乱（说实话，这个代码仓库是谁看谁无语的屎山程度），我的判断是尽量只增不减，避免refactor。由此知道组件化是完全没可能的。&lt;/p&gt;
&lt;p&gt;最后无奈只能把编辑器项目放在react的静态资源目录里，而两个网页之间的数据沟通通过localStorage实现。目前显然是在数据传输的security上做出了妥协，这里可以优化的地方可能是改成url+加密的方式。&lt;/p&gt;
&lt;h2 id=&#34;简短的感想&#34;&gt;简短的感想&lt;/h2&gt;
&lt;p&gt;这算是一个explorative project，对我来说最大的启发是位置生成的部分。仔细想想，「故事拆分」和「图像/视频生成」都是非常常见的应用，但是通过「位置信息生成」来连接这两个部分（ie纯文本和纯视觉）的模式（而不是通过多模态的模型直接实现）这点对我来说还是挺新奇的。最后是一些有端畅想：「连通」从历史角度来说是个意义重大的词，虽然现在感觉还不太成熟，但看样子未来会有更多有趣的发展。&lt;/p&gt;
- http://eimy.ink/posts/2024/llm-app-dev/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>一份人生管理实验报告（2023.6～2024.2）</title>
        <link>http://eimy.ink/posts/2024/half-year-review/</link>
        <pubDate>Mon, 11 Mar 2024 23:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2024/half-year-review/</guid>
        <description>EIMY http://eimy.ink/posts/2024/half-year-review/ -&lt;p&gt;TLDR：本文复盘了一个从2023年6月建立起的短期规划截至2024年2月的完成情况。&lt;/p&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;h3 id=&#34;奇怪的复盘时间点&#34;&gt;奇怪的复盘时间点&lt;/h3&gt;
&lt;p&gt;之所以选择在这个意味不明的时间节点进行review，是因为每年的2-5月是我学生生活的闲季，差不多是前半年学业考试结束和招聘季尘埃落定，后半年实习和秋招还未开始的时候。相比之下，每年年中年底或农历新年的时候往往处于水深火热中，心境上并不适合回顾过去、展望未来。&lt;/p&gt;
&lt;h3 id=&#34;采用的人生管理模型&#34;&gt;采用的人生管理模型&lt;/h3&gt;
&lt;p&gt;去年年中突发奇想地整理了年度目标管理，基于一个称为“生命之花”的模型和OKR机制系统化了曾经零散的年度flag。&lt;/p&gt;
&lt;p&gt;这个模型把人生分为8个模块，包括个人成长、职业发展、财务、休闲娱乐、健康等。在实践时，我根据个人情况做了调整，去掉了暂时不打算顾及的模块，最后剩下的七个模块分别是：个人成长、学业、职业发展、个人健康、娱乐休闲、人际关系、财务管理。&lt;/p&gt;
&lt;p&gt;具体参考的是这篇少数派的文章：&lt;a href=&#34;https://sspai.com/post/65268&#34;&gt;毕业倒计时，我这样用 OKR 进行目标管理&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&#34;制定目标时的考量&#34;&gt;制定目标时的考量&lt;/h3&gt;
&lt;h3 id=&#34;复盘方法&#34;&gt;复盘方法&lt;/h3&gt;
&lt;p&gt;因为在立项（？嗯）时没有写文章介绍每个模块的OKR，所以会先开诚布公地展示一下去年六月各个部分的规划，然后复盘一下半年来的达成情况。&lt;/p&gt;
&lt;h2 id=&#34;01-个人成长&#34;&gt;01 个人成长&lt;/h2&gt;
&lt;p&gt;我对这半年个人成长方面的期望是打好CS基础、接触tech community和持续培养人文素养这三块，由此设定了三个KR（Key Result）。&lt;/p&gt;
&lt;img src=&#34;./index.zh.assets/image-20240311101602724.png&#34; alt=&#34;image-20240311101602724&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;h3 id=&#34;kr1接触开源社区&#34;&gt;KR1：接触开源社区&lt;/h3&gt;
&lt;p&gt;我对接触开源社区这个KR的定义是“学习过就算，能提pr更好”。&lt;/p&gt;
&lt;p&gt;关于计划里的三个项目：Farm和Tiny是23年五六月份时闲来无事筹划着参与GSOC和开源之下这样的开源实习时学习的前端/前端infra的项目。Greenstand是来美上学后一次招募贡献者的宣讲时听说的项目。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Farm：这是一个前端打包工具，core是Rust写的，外面用js/ts写了一层api调用core的功能。暑假里我学了下js/ts部分的代码库，提交了几次pr，勉强算有一点&lt;font size=&#34;1&#34;&gt;但不多&lt;/font&gt;的实质性贡献&lt;/li&gt;
&lt;li&gt;Tiny：为了申请开源之夏的项目而仔细学习的前端组件库，借此机会熟悉了几个前端框架Vue&amp;amp;React。学是学了，但是后来申请没选上，所以没有进一步做贡献。&lt;/li&gt;
&lt;li&gt;Greenstand：如果我没理解错，这其实是一个软件公司的开源产品。但开学后时间有限，我并没有后续深入了解这个产品，中途放弃了这个目标。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;kr2入门cs完成cs基础课&#34;&gt;KR2：入门CS——完成CS基础课&lt;/h3&gt;
&lt;p&gt;个人的转码规划并不是xhs刷题三月上岸类型的，而是把自己当作晚开始几年的半科班，通过自学开源的知名网课把大部分专业基础课都学一遍，然后才开始进行求职方面的努力。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：90%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;总的来说是基本完成了。照着csdiy，从23年2月开始截止24年2月分门别类地学完了:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编程入门（cs61a），&lt;/li&gt;
&lt;li&gt;面向对象设计/数据结构与算法（cs61b和学校的cs5004），&lt;/li&gt;
&lt;li&gt;计算机体系结构（cs61c和学校的cs5008），&lt;/li&gt;
&lt;li&gt;操作系统（MIT 6.S081），&lt;/li&gt;
&lt;li&gt;计算机网络（b站的湖科大网课和一点点cs144）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;大体如图所示，几门大课都完成了能写的所有lab、homework和project并记了些笔记，可以在&lt;a href=&#34;https://github.com/Flora025&#34;&gt;我的github&lt;/a&gt;里找到相应代码仓库/在&lt;a href=&#34;https://eimy.ink/zh/categories/%E7%AC%94%E8%AE%B0/&#34;&gt;blog&lt;/a&gt;里找到部分笔记post。只有一门数据库没有时间践行，因为学了没地方用不如不学，所以打算留到或许有空的下下个半年。&lt;/p&gt;
&lt;h3 id=&#34;kr3进行每个月至少1本书的专题阅读&#34;&gt;KR3：进行每个月至少1本书的专题阅读&lt;/h3&gt;
&lt;p&gt;虽然转专业到了理工科，但在比较有限的业余时间里，我并不想因为一心追求技术上的精进而变成精神贫瘠的文化沙漠，因此我打算延续本科时的阅读习惯，读一些non-fiction涨涨见识。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;社会学的书读完了6本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;技术方面，在学操作系统课的时候顺便读完了xv6论文，也勉强算1本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PPE的阅读计划是一点没实现，只有2-3本在读的，可能还是需要更加大块的时间专注地读完。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其实还读了2本严肃小说、2本认知类的nonfic和14本轻小说&lt;font size=&#34;1&#34;&gt;嗯。&lt;/font&gt;，但这大概不属于“成长”规划范畴内，就不记录了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;02-学业&#34;&gt;02 学业&lt;/h2&gt;
&lt;p&gt;学业上的目标无非是平滑地从本科生过渡到研究生，完成课业和各种程序性的事情，因为自学才是真正的「学业」，所以这块没什么好多说的。关于这段经历我记录过一些，随机分布在毕业总结、年度总结和随笔里。&lt;/p&gt;
&lt;p&gt;更重要的是无法体现在todo list上的心态转变，因为没有读博的打算，所以某种意义上，从本科毕业的那一刻起我就已经踏出象牙塔，需要直面社会现实了。&lt;/p&gt;
&lt;img src=&#34;./index.zh.assets/image-20240311113952287.png&#34; alt=&#34;image-20240311113952287&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;h3 id=&#34;kr1本科毕业&#34;&gt;KR1：本科毕业&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上完了最后几门专业课&lt;/li&gt;
&lt;li&gt;完成了毕业论文&lt;/li&gt;
&lt;li&gt;走完了毕业材料、两证的流程（四年=两张纸）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;kr2进入研究生阶段&#34;&gt;KR2：进入研究生阶段&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;顺利落地、办各种手续、入学&lt;/li&gt;
&lt;li&gt;上了四门课（项目规定前两个学期只能上四门）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;03-职业发展&#34;&gt;03 职业发展&lt;/h2&gt;
&lt;h3 id=&#34;kr1找到710分以上的实习&#34;&gt;KR1：找到7/10分以上的实习&lt;/h3&gt;
&lt;p&gt;个人长期的规划并不是留美，但我仍然认为利用好留学期间的机会积攒一定的海外工业界经验对我没有坏处，所以职业发展上的第一个KR就是在第一年就找到一份尚可的summer/fall的实习。&lt;/p&gt;
&lt;p&gt;虽然所在的项目并不要求第一年就找实习&lt;font size=&#34;1&#34;&gt;事实上大部分人都是第二年开始找实习&lt;/font&gt;，但根据我数次转行的经验，最理想的情况还是能尽早找到转行第一份实习，这样后续能从容些。打分参考上面说的文章，一共五个方面，每个方面有两分。&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;行业：行业发展前景，是夕阳产业、新兴产业还是已经成熟规模化的产业&lt;/li&gt;
&lt;li&gt;企业：企业在该赛道内的地位&lt;/li&gt;
&lt;li&gt;职业：在企业做什么，属于什么序列，该序列的发展前景&lt;/li&gt;
&lt;li&gt;城市：个人喜好与城市发展前景，偏主观&lt;/li&gt;
&lt;li&gt;待遇：包括总包薪水与隐性福利&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;确实找到了一份暑期实习，甚至我觉得比预期的更好一点。&lt;/p&gt;
&lt;p&gt;数据上，在来之前我的预期是1%的投递-offer转化率，可能实际市场还比我想的差些。23年9月到24年2月共投递494~个岗位，收到116~封拒信，9个oa（3个非白嫖），3个VO1，1个VO2-VO3，和最后的1个offer。&lt;/p&gt;
&lt;p&gt;即使早就开始不断提醒自己，还是犯了不少让我忏悔的错误：&lt;/p&gt;
&lt;p&gt;1）对于特定几家大厂，因为社恐+拖延没有去找内推。虽然这次被拒显然不是因为少了内推，但在下次秋招这是个可优化的点。&lt;/p&gt;
&lt;p&gt;2）对于某司，早知道早投的重要性，也单独为此制定了time-specific的计划，但是还是拖了十天改简历补项目。根据后续的身边统计学，这可能就是我的key failure factor。&lt;/p&gt;
&lt;p&gt;3）对于某T姓厂，没理清其和B姓厂的关系，导致错过了最好的投递时间。&lt;/p&gt;
&lt;p&gt;4）lc刷了很多，但刷的并不好，甚至初见的medium-hard都不一定能解出来。&lt;/p&gt;
&lt;p&gt;2和3几乎是这次秋招唯二的捞人大头，虽然我一开始没有非这个级别不可的执念，但因为自己信息收集和执行力不足的原因错过面试的机会还是有点可惜的。&lt;/p&gt;
&lt;h3 id=&#34;kr2完成一份7分的简历&#34;&gt;KR2：完成一份7分的简历&lt;/h3&gt;
&lt;p&gt;设定目标为7分是因为转专业的属性和相关实习的缺乏使我目前的简历天花板就在7分或更低。在这个范围内，我希望尽可能大到整体视觉结构，小到每个单词，都能打磨到它的上限（基于数个业内人士的评判标准）。&lt;/p&gt;
&lt;p&gt;拆解目标后我计划做的几件事依次是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先是调查市场主流tech stack需求，需要看看各司JD里的说法和过往前辈的经验；&lt;/li&gt;
&lt;li&gt;其次根据主流技术栈，从0.5开始补充pj经历，我当时想的配置是2个全栈、一个偏OS的低层轮子项目以及一个mobile，外加已有的一个OOD轮子软件项目；&lt;/li&gt;
&lt;li&gt;然后是搜集比较优秀的candidate的简历作为整体结构和细节条目的参考；&lt;/li&gt;
&lt;li&gt;最后才是撰写和修改。本来想试试ABtest，但这么差的市场怎么test结局都是ghost（&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;实际就是按照计划那么做的，只是设想的项目并没有余裕全部做完。&lt;/p&gt;
&lt;p&gt;简历一共有7-8版，几乎每月都会改出一个大版本。中间和最后大致定版后一共找过三位career advisor改简历，比较统一的feedback是认为它优于她们自己找到第一份bigname前的简历，由此确认自己这方面算是准备得差不多了，剩下听天由命。&lt;/p&gt;
&lt;h3 id=&#34;kr3根据兴趣确认发展方向&#34;&gt;KR3：根据兴趣确认发展方向&lt;/h3&gt;
&lt;p&gt;技术方向实在多得离谱，我至今好像还没完全理解各个方向干什么。就我一年前的有限认知来说，想接触下试试的是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;后端主流语言+框架，也就是微服务CRUD什么的&lt;/li&gt;
&lt;li&gt;后端最近比较热门/新兴的方向：云服务或infra/分布式/大模型应用&lt;/li&gt;
&lt;li&gt;前端框架&lt;/li&gt;
&lt;li&gt;&amp;hellip;?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：60%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;第一条通过做好几个全栈项目算是比较熟悉了，对此并没有太多负面或者正面的感想。&lt;/p&gt;
&lt;p&gt;第二条的云服务只有浅浅接触过一点，可能会在实习时接触点应用级别的；大模型应用方面，最近参加了个WIP的和外校phd&amp;amp;几个同学合作的多模态大模型应用项目，打算盖棺再定论；分布式这块暂时没想好为什么&amp;amp;怎么入门&amp;amp;入门以后干什么，所以完全搁置了。&lt;/p&gt;
&lt;p&gt;第三条的前端框架通过开源项目/自己的小项目里熟悉了一下，纯前端是唯一一个我明确地不太愿意作为职业从事的方向。我很喜欢前端可视的编程体验，但js函数式编程的抽象程度好像不高，给我一种非常杂乱、不是很systematic的感觉，写起来有点折磨。&lt;/p&gt;
&lt;h3 id=&#34;kr4学完工业主流技术栈&#34;&gt;KR4：学完工业主流技术栈&lt;/h3&gt;
&lt;p&gt;回过头来看，这是个很突兀的KR，完全可以并入KR3。当时初衷可能是想要提前预习国内的八股知识，以免不得不找国内实习时学得手忙脚乱。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：60%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;学了的和还没学的都很多。学习过程中的最大体会是学了不经常用的技术栈真的不如不学，或者到了要用的时候现学。&lt;/p&gt;
&lt;p&gt;学了的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Java重新系统过了一遍&lt;/li&gt;
&lt;li&gt;Java web&lt;/li&gt;
&lt;li&gt;SSM（Spring + Spring Boot +  Spring MVC + Mybatis plus）&lt;/li&gt;
&lt;li&gt;Spring Cloud生态里的（redis6 + docker 剩下还没学）&lt;/li&gt;
&lt;li&gt;nginx&lt;/li&gt;
&lt;li&gt;rabbitmq部分&lt;/li&gt;
&lt;li&gt;设计模式&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;04-个人健康&#34;&gt;04 个人健康&lt;/h2&gt;
&lt;p&gt;我对健康的期望是：精神稳定+饮食运动管理。因为没什么可量化的，相比之前的硬核模块，后面的三四个都相当随意。&lt;/p&gt;
&lt;h3 id=&#34;kr1保持精神稳定健康&#34;&gt;KR1：保持精神稳定健康&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;即使搞砸了不少事、大半年没有任何收获，也能默念着tomorrow is another day平和地度过一个个夜晚，个人忙季历史上心态最好、内核最稳定的一次。&lt;/p&gt;
&lt;h3 id=&#34;kr2fitness&#34;&gt;KR2：fitness&lt;/h3&gt;
&lt;p&gt;有两个小目标：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一周至少运动1次&lt;/li&gt;
&lt;li&gt;保持90%的日子多食少餐&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：0%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;完成度史低.jpg，忙起来就很难顾及到所有方面呢，&lt;/p&gt;
&lt;h3 id=&#34;kr3克服完美主义&#34;&gt;KR3：克服完美主义&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：?】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;在随想里应该提到过，这是一个从大学开始努力改善中的思维Bug。最新进展：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;时刻提醒自己保持self-compassion&lt;/li&gt;
&lt;li&gt;每天比昨天好一点点就够了&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可能正是修正了一点的缘故，这段时间才一直精神稳定健康。&lt;/p&gt;
&lt;h2 id=&#34;05-娱乐休闲&#34;&gt;05 娱乐休闲&lt;/h2&gt;
&lt;p&gt;娱乐休闲的kr其实并没有很“认真”地作为一个事项来对待，只是放在一起时刻提醒自己——不要忘记休息！&lt;/p&gt;
&lt;h3 id=&#34;kr1在三个国家旅游&#34;&gt;KR1：在三个国家旅游&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：66%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;这几个月在&amp;hellip;留下了旅行足迹：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;美国波士顿、奥兰多、费城&lt;/li&gt;
&lt;li&gt;日本东京、大阪、京都、金泽、高山、富山&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果算上海拉鲁的话就成功集齐三个国家了！&lt;/p&gt;
&lt;h3 id=&#34;kr2探索好玩的游戏&#34;&gt;KR2：探索好玩的游戏！&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;不算某些手游，今年只通（？）了两部游戏：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;塞尔达王国之泪&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;双人成行&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;06-人际关系&#34;&gt;06 人际关系&lt;/h2&gt;
&lt;h3 id=&#34;kr1了解八维各个功能主导人的思维模式&#34;&gt;KR1：了解八维各个功能主导人的思维模式&lt;/h3&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;纯粹出于个人对荣格八维的兴趣，也是出于学习他人思维方式的目的，这期间抓住机会和八种维度主导的人聊天&lt;font size=&#34;1&#34;&gt;实际情况是等别人和我聊天、&lt;/font&gt;，发现不同主导型的default思考方式比我想的差异大很多，有些我甚至很难理解；同时也发现自己的很多想法也不是人们共有的。接近他者的真相是很难的事情，人会不自觉把自我投射到他人身上。正因如此，我觉得这种交流是有意义的，第一在于纠正成见，第二在于在确认异同时找到个体性。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;KR2是另一条长期记录贴，但是最终没有记录完整，所以略&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;kr3收集50个拒绝&#34;&gt;KR3：收集50个拒绝&lt;/h3&gt;
&lt;p&gt;因为听说被拒绝多了会变得更加自信从容，所以无厘头地订了个这种目标。记得还有个youtube上的挑战是关于这个的，有趣的是有时看着必定被拒的事情反倒真的成功了。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成情况：100%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;算上拒信的话早就不止50了hhh下次还打算继续尝试类似目标，但是会提前想好todo。&lt;/p&gt;
&lt;h2 id=&#34;07-财务管理&#34;&gt;07 财务管理&lt;/h2&gt;
&lt;p&gt;KR：持续记账&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;【完成度：0%】&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;因为没什么消费欲望，恩格尔系数接近百分百，到后来演变成看一眼微信账单（weee）就知道90%的开销了，于是干脆不手动记了..&lt;/p&gt;
&lt;p&gt;不过我很同意管理财富=管理自由这件事，只是现在还处于（花在理财上的时间价值）&amp;gt;（理财本身提供的价值）的阶段。等到有更多主动收入后这一块会有进一步的打算。&lt;/p&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;这是一次「人生管理实验」，或者说行为艺术也行。我知道规划对一些人来说是摆脱迷茫的手段，对另一些人来说是限制选择的桎梏，这种用条条框框切割人生的方式不适合所有人，只是我已经习惯了，甚至因为太顺手了，近几年还打算继续下去。&lt;/p&gt;
&lt;p&gt;后续可能不会以半年为周期，因为在实践的时候发现哪怕非常轮廓式的规划都赶不上现实的变化。初步想法是设定半年内需要完成的milestone，然后以两个月到一个季度为周期复盘，方便灵活变通。&lt;/p&gt;
&lt;p&gt;话说回来，复盘还是要有始有终，粗粗计算了含权重（25/20/30/10/10/5/0）的总体的完成度，大概是85%，仍然贯彻了我「达到完美计划的八成」的虎头蛇尾风格。短期最重要的事情基本都顺利完成了，就是对健康生活的关注有待提高，毕竟长期健康第一。下次一定！&lt;/p&gt;
- http://eimy.ink/posts/2024/half-year-review/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>2023年终总结：开放世界的主线之余</title>
        <link>http://eimy.ink/posts/2023/year-in-retrospect/</link>
        <pubDate>Mon, 25 Dec 2023 23:52:10 -0500</pubDate>
        
        <guid>http://eimy.ink/posts/2023/year-in-retrospect/</guid>
        <description>EIMY http://eimy.ink/posts/2023/year-in-retrospect/ -&lt;p&gt;其实年中时做过一个涵盖人生方方面面的规划，每个模块都有具体的OKR和事项，像是给我在《地球Online》布置了主线任务。目前运行得还算顺畅，本来想着按它展开年终总结的，但那样就会把年终总结写成年终汇报，违背了年终总结记录成长的初衷。于是决定先谈谈今年发生的事和想法上的变化。&lt;/p&gt;
&lt;h3 id=&#34;心态-观念&#34;&gt;心态 观念&lt;/h3&gt;
&lt;p&gt;翻了翻以前的随笔和日记，发现这一年下来心态变了不少，变得平静了，但是也麻木了。了解我的人应该知道，我本来性格急躁，不乐意受挫，因而时常在焦虑下过度努力。记得去年的三四月份，我还会因为社会的、自己找实习的各种琐碎事情深陷负面情绪。但这一年下来，我好像只是在慢慢地完成着一件件事情。从上海去到波士顿生活，从英语转到计算机学习，对我来说本该是生活急剧变化的一年，我却表现得过于麻木了，没有什么惊和喜，好像只是从一个片场到了另一个片场，友情出演一段段人生。&lt;/p&gt;
&lt;p&gt;我想，问题可能出在这里：这一年结束的几件事，付出得不算少，但结局都不是Happy Ending。四五月，似乎把时间都花在了研究开源项目上，本来计划着暑期做一段相关实习，最后因实力不够没能获得机会。六月初，结束了论文答辩，只参加了个学院的毕业典礼，学校毕业典礼时我甚至在大阪环球影城。似乎都没有体验过多久校园生活，就被迫“滚旦”了，最后留下的只有形式上的证明，正如拿不拿那句&lt;code&gt;形だけ何か述べて通り過ぎ行く&lt;/code&gt;。九月，本来说可能有希望发表的文章，最后了无音信草草收场。后面来美几个月，隔三差五收到秋招intern岗位的拒信，跟很多全职前辈确认了不是cv和经历的问题，最后只能感叹一句时运不济。&lt;/p&gt;
&lt;p&gt;大概出于无意识的自我保护，在过去的几个月里我并没有仔细分析这种变化的根因和意义。但现在想来，根本原因是，持续的负反馈会使人内化曾经不断抵抗的无知和无力感。现在更多是理解了把一颗石头扔下深渊而听不见任何坠地的声音，是一件再正常不过的事，这和石头多大没太大关系。比如个人是石头，社会是深渊，或者时间是石头，知识是深渊，或者追求是石头，欲望是深渊。&lt;/p&gt;
&lt;p&gt;说回我的心态变化，接近年末时我想通了引起问题的关键——人的落点在客体上，不幸就迟早会发生。即使不得不，也不该成为海面上的浮标，要成为海底的锚。&lt;/p&gt;
&lt;p&gt;但这种（社会的、个人的）转变也不全是坏事，在微观意义上可以说它让我活得松弛了不少。比如对任何机会，我现在的反应大多是“反正不成功很正常，先试试再说呗”，自我设限的事很少有了。毕竟在不太好的环境和无限低的预期下，试错也没什么物质成本和精神负担。&lt;/p&gt;
&lt;h3 id=&#34;意义-未来&#34;&gt;意义 未来&lt;/h3&gt;
&lt;p&gt;今年的一个晚上，跟xixi在本部校园里边逛边聊了好几个小时。我发现我们有相似的人生观，都透着虚无主义的底色，但是选择了截然不同的方法论。我过去时常为自己生活的渺小感和重复性到非常失落：对于无限的空间或是时间的尺度来说，大部分人事物都显得太无意义了些；而且历史的车轮滚滚，无法累积的个体经验只是在不断重蹈覆辙。xixi也这么觉得，但她选择用最快乐的生活方式消解虚无，因为每个当下的愉悦体验是绝对真实的，这是价值的基石。那晚我好像不是特别赞同，知道没必要说服，但也辩不出道理，只是固执地认为对抗虚无的方法是创造出至少自己认可的有价值的东西，艺术作品也好，产品也好，至少避免成为一个量产复制品，所以要为此不断努力。&lt;/p&gt;
&lt;p&gt;大半年过去，我觉得我逐渐走上了“质疑，理解，成为”的路。&lt;/p&gt;
&lt;p&gt;今年和一些同学朋友聊天时发现，很多思考推断、目标理想，都经不起一个“然后呢”的追问。太多人，包括抱有“创造价值”的想法的我自己，都是在用一个定义模糊的里程碑遮蔽着在那之后的迷茫——用”到了那里再说吧“搪塞着自己。其实多想一步就该知道的，后面还是一样的模式，主打一个螺旋上升版的西西弗斯，越摆周期越长的叔本华钟摆，这样做的结局就是把一生花在低头追逐虚头巴脑的东西上。&lt;/p&gt;
&lt;p&gt;这么看，可能的确只有主体的体验是切实的，真正值得托付时间的。让我想起了野炊和王泪无限回档的、无法真正抵达的结局，好像也诉说了相同的道理。塞尔达的两部开放世界最终让我回忆起来而感到美好的，从来不是打败盖侬救下塞尔达的团圆结尾，而是在那路上，林克在海拉鲁跋涉过的火山、沙漠、雪地、草原，站在神兽顶上看到的落日，举着咕咕鸡飞行降落到的卡卡利科村，哈特诺村小溪旁等我回去的家，帮助过的笨蛋npc，路过迫害过的呀哈哈，拼了几小时的高达，洗劫过的一窝窝猪猪，回忆杀才磨过的人马。&lt;/p&gt;
&lt;p&gt;所以明年在主线之余，我打算试试更认真地生活，先从琐碎一些的开始。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./attachments/IMG_9058.jpeg&#34; alt=&#34;王国之泪&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;天空树上看到的许愿彩带，众多考试通过、身体健康之中格外显眼的一条：
「彩りある人生を送りたい」&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;./attachments/IMG_2874.jpeg&#34; alt=&#34;彩带&#34;&gt;&lt;/p&gt;
- http://eimy.ink/posts/2023/year-in-retrospect/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>xv6 Lab 11 networking 实验记录</title>
        <link>http://eimy.ink/posts/2023/xv6/lab-net/</link>
        <pubDate>Tue, 31 Oct 2023 12:43:10 -0400</pubDate>
        
        <guid>http://eimy.ink/posts/2023/xv6/lab-net/</guid>
        <description>EIMY http://eimy.ink/posts/2023/xv6/lab-net/ -&lt;h1 id=&#34;lab-11-networking-实验记录&#34;&gt;Lab 11 networking 实验记录&lt;/h1&gt;
&lt;p&gt;lab link: &lt;a href=&#34;https://pdos.csail.mit.edu/6.828/2020/labs/net.html&#34;&gt;https://pdos.csail.mit.edu/6.828/2020/labs/net.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;111-e100&#34;&gt;11.1 E100&lt;/h2&gt;
&lt;h3 id=&#34;1-要求&#34;&gt;1 要求&lt;/h3&gt;
&lt;p&gt;补全网卡驱动里的e1000_transmit()和e1000_recv()函数，使之能够接受发送数据packets。&lt;/p&gt;
&lt;p&gt;这个task的自由度不高，细节主要跟着prompts和hints就可以实现。需要了解大致步骤&amp;amp;原理可以参考manual里的ch3。&lt;/p&gt;
&lt;h3 id=&#34;2-实现&#34;&gt;2 实现&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;实现e1000_transmit()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;首先获取当前的ring index以及对应的desc：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;e1000_transmit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mbuf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Your code here.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;uint32&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tx_desc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;acquire&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e1000_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;regs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;E1000_TDT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// cur desc id
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tx_ring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// index into ring to get cur desc
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;然后检查desc overflow。如果desc上设置好了E1000_TXD_STAT_DD，说明上一轮已经完成，可以释放buf里上一轮的内存。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// check overflow
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;E1000_TXD_STAT_DD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;release&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e1000_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// use mbuffree() to free the last mbuf
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;mbuffree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最后更新当前desc中的信息，更新ring index&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uint64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;tx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;E1000_TXD_CMD_EOP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;E1000_TXD_CMD_RS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// update the ring position
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;regs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;E1000_TDT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TX_RING_SIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;release&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e1000_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;实现e1000_recv()&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;e1000_recv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// ask the E1000 for the ring index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;regs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;E1000_RDT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RX_RING_SIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// get the next waiting received packet
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rx_desc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rx_ring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// check if a new packet is available
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;E1000_RXD_STAT_DD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MBUF_SIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nf&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;e1000_resv&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// update the length reported in the descriptor
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;rx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// deliver the mbuf to the network stack
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;net_rx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// allocate a new mbuf replace the one given to net_rx()
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;rx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mbufalloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nf&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;e1000_resv&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// update descriptor and status
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uint64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rx_mbufs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RX_RING_SIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// mod if exceeding ring size
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;desc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rx_ring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;regs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;E1000_RDT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RX_RING_SIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Check for packets that have arrived from the e1000
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Create and deliver an mbuf for each packet (using net_rx()).
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;grade&#34;&gt;Grade&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;./assets/image-20231031150208623.png&#34; alt=&#34;image-20231031150208623&#34;&gt;&lt;/p&gt;
- http://eimy.ink/posts/2023/xv6/lab-net/ - 2026 EIMY</description>
        </item>
    
    
  </channel>
</rss> 