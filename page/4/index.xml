<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>EIMY</title>
    <link>http://eimy.ink/</link>
    <description>Recent content on EIMY</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>2026 EIMY</copyright>
    <lastBuildDate>Wed, 31 Dec 2025 10:52:10 -0500</lastBuildDate>
    
        <atom:link href="http://eimy.ink/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>日本关西旅游Plog 1</title>
        <link>http://eimy.ink/posts/2023/plog-japan-i/</link>
        <pubDate>Wed, 21 Jun 2023 14:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/plog-japan-i/</guid>
        <description>EIMY http://eimy.ink/posts/2023/plog-japan-i/ -&lt;h2 id=&#34;日本关西-中部旅行plog&#34;&gt;日本关西-中部旅行Plog&lt;/h2&gt;
&lt;h3 id=&#34;大阪&#34;&gt;大阪&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;01: 用荒诞的结束方式否定荒诞的本科时光（指缺席自己毕业典礼）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center&gt;    
    &lt;img style=&#34;width: 400px;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./jp.assets/wx.jpg#center&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;02: 幼年卡比兽在马里奥餐厅进食珍贵影像&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center class=&#34;half&#34;&gt;   
    &lt;img src=&#34;./jp.assets/IMG_9291.JPG#center&#34; style=&#34;width: 100px&#34;/&gt; 
    &lt;img src=&#34;./jp.assets/mario.JPG#center&#34; style=&#34;width: 300px&#34;/&gt;
&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;03: 自学七年日语，归来仍是英文点单&lt;/p&gt;
&lt;p&gt;注: 看日本麦门菜单体验堪比阅读&lt;a href=&#34;https://sciencenotes.org/list-elements-japanese/&#34;&gt;日文版元素周期表&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center&gt;    
    &lt;img style=&#34;width: 400px;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./jp.assets/image-20230616203947621.png#center&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;04: hogwarts里乌漆麻黑像回到了房间一样，真好.jpg&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center&gt;    
    &lt;img style=&#34;width: 400px;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./jp.assets/image-20230616204139800.png&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;05: (咒回4D电影候场）但如果我的咒术和kita一样，阁下该如何应对呢？&lt;/p&gt;
&lt;p&gt;注：「あなたの呪術が世界を救う」＝你的咒术将拯救世界&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center class=&#34;half&#34;&gt;    
    &lt;img src=&#34;./jp.assets/image-20230616205142996.png&#34; style=&#34;width: 400px&#34;/&gt;
    &lt;img src=&#34;./jp.assets/kita.jpeg&#34; style=&#34;width: 400px&#34;/&gt; 
&lt;/center&gt;
- http://eimy.ink/posts/2023/plog-japan-i/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>Graduation</title>
        <link>http://eimy.ink/posts/2023/graduation/</link>
        <pubDate>Tue, 13 Jun 2023 20:54:40 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/graduation/</guid>
        <description>EIMY http://eimy.ink/posts/2023/graduation/ -&lt;h3 id=&#34;闪现四年后&#34;&gt;闪现！四年后&lt;/h3&gt;
&lt;center&gt;   
    &lt;div style=&#34; color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;&#34;&gt;录取通知书 - 19年报名@老番茄的活动时拍的
    &lt;/div&gt; 
    &lt;img style=&#34;zoom:40%;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./graduation/offer.png#center&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;center&gt;  
    &lt;div style=&#34; color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;&#34;&gt;毕业纪念纸 - 23年6/13的毕业典礼
    &lt;/div&gt; 
    &lt;img style=&#34;zoom:40%;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./graduation/grad.png#center&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;h3 id=&#34;零碎的感想&#34;&gt;零碎的感想&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;有很多遗憾：在一个巨大的错误中试错，试一个错一个&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;明确了价值：四年后终于可以坚定地说出我追求的不是“自由而无用”（民间校训）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;四年后还是没能和专业和解，我的黑灰底色还是和它格格不入，但感谢它把我染成五彩斑斓的黑（？&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;   
    &lt;div style=&#34; color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;&#34;&gt;典礼上老师的赠言: I guess this is goodbye -- from Lost in Translation
    &lt;/div&gt; 
    &lt;img style=&#34;zoom:40%;border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34;     src=&#34;./graduation/lost.png#center&#34;&gt;    
    &lt;br&gt;    
&lt;/center&gt;
&lt;blockquote&gt;
&lt;p&gt;岂止lost in translation，大多事情是lost in expression，语言里找不到明确的答案（所以润了）。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;最近期末叠加毕业，忙得没时间整理东西。明天又要考试，认真学了四年还是那么地不擅长，最后只能归结为没有天赋了哈哈（A-是我对自己本科学力的全部理解）&lt;/p&gt;
- http://eimy.ink/posts/2023/graduation/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>我的《本科择业编年史》</title>
        <link>http://eimy.ink/posts/2023/undergrad-chronicle/</link>
        <pubDate>Mon, 05 Jun 2023 20:33:57 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/undergrad-chronicle/</guid>
        <description>EIMY http://eimy.ink/posts/2023/undergrad-chronicle/ -&lt;blockquote&gt;
&lt;p&gt;为了留存一些记忆，也分享一部分经历给认识的人和随机赛博陌路人&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;四年过去了，即使为写作文和论文熬了那么多次夜，现在也没变得更擅长写东西。但和四年前相比，规划和心境都有了巨大的变化，觉得不记录一下有点可惜，于是还是动笔了，顺便也给好奇「你怎么在干这个」的朋友看看。这篇文章刻意只记录了事实性和理性的部分，也就是我大学期间择业方面做的事和后见之明的动机分析，对爱好和理想打算只字不提，所以可能会显得非常现实和功利。&lt;/p&gt;
&lt;p&gt;前几天沉迷王国之泪，里面和前作旷野之息一样有个回顾行走轨迹的功能。我没事就会播放一下，有时候会看到自己在一个地方连续GameOver近十次，然后愤怒地传送到别地，或者绕了一大圈最后回到原点的历史。挺有趣的，也很符合我现实中的情况。&lt;/p&gt;
&lt;p&gt;现实中，这四年的探索历程也很曲折。概括一下说，从确定本科录取后我就设定了非常夸张的转行目标，然后发现困难重重，转而决定走极端保守的一条路；在短暂的探索后发现不感兴趣，又止损再次转向到以为更加喜欢的事物上；但实际做了发现不行，最后还是回到了最初的“夸张目标”。是不是和王国之泪的轨迹很像（笑）。到了最后，虽然约翰密尔、莎士比亚、托克维尔这些都学得稀里糊涂，但是好在终于把老生常谈的自我价值问题弄明白了。&lt;/p&gt;
&lt;p&gt;讲的有点抽象，后面稍微具体点说说。&lt;/p&gt;
&lt;h3 id=&#34;1-大一壮志难酬干细胞&#34;&gt;1 大一：壮志难酬干细胞&lt;/h3&gt;
&lt;p&gt;大一非常奇妙，明明是一个还没整明白自己情况的干细胞，却早早地定下了四年的分化目标。&lt;/p&gt;
&lt;p&gt;刚上大学的时候我对择业的唯一想法就是没有想法，迷茫也需要选项，不知道有什么选项时根本称不上迷茫。高中选择保送那会儿有老师和同学问我为什么这么保守，明明可以考个同等学校更“好”的专业。现在看来，很明显主观原因&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;就是我没想过自己喜欢什么或者社会需要什么，觉得专业什么都差不多。&lt;/p&gt;
&lt;p&gt;但神奇的是，虽然不太了解自己喜好和能力（x），也不知道有多少种可能（y），但我在决定保送后就很明确地希望自己走向更偏向理工科的分支（计算语言学），给之后埋了个伏笔。按照时间线说，我是18年底决定保送，19年初确定了保送学校，19年秋天本科入学。而这件事是我在18年底就开始笔画的：那时就找到了一个同本科学校同专业刚毕业，准备去英国读语音处理的学姐，请教了很多经验。我本来决意完美复刻学姐的经历，趁着长假学了编程基础，学得意犹未尽，开学也高兴地选了相关的课。结果大一上刚结束就是众所周知的疫情，并且本专业课比我想象得让我痛苦很多，很多安排都取消了，这方面后来是不了了之的。题外话，前几周学姐回来给学院后辈做宣讲，分享自己四年前转专业后来在剑桥当机器学习工程师的故事，会后我也上去聊了聊，她竟然还记得我，有种时过境迁的感慨，希望大家都走在自己认可的路上。&lt;/p&gt;
&lt;p&gt;20年疫情初逐步扩大的疫情让我意识到复刻学姐经历已成不可能，于是在大一上的末尾，受到疫情和3.3大学的双重打击后，我的职业规划突然转向了现在看来和我性格相当不般配的保守选项——四大。这是第一个实质上的转折点，后面半年为此学了不少东西，甚至考了门acca。&lt;/p&gt;
&lt;p&gt;大一的暑假还有个有趣的插曲。从保送以后我一直有个当插画师的念想（妄想），恰好大一的暑假没什么正事要做，于是出于探索可行性的目的，我报了个K大的线上透视/人体班上着。但事实证明，高强度连续作画会很快熄灭我本就不多的三分钟热度，只能希望别的平行宇宙里有某个我选择了这条路，这里我觉得还是算了。&lt;/p&gt;
&lt;p&gt;另外值得一提的是思想上的一点进步，这一年上的各种人文通识课程浅浅打cui磨can了我对个人和社会的关系的看法。疫情开始时最喜欢看密尔的论自由，里面探讨公权力边界和压抑个性的部分和时代问题异常契合；趁着选修也看了一点存在主义的读物，人为行动负责，在行动中才构建自我，存在先于本质哪怕是句口号也很振奋人心。回过头来看，这些正是后面几年使我向内探索个人的价值观和不同意识形态的契合度，然后尝试能动地摆脱路径依赖，并做出种种决定的基础。&lt;/p&gt;
&lt;p&gt;这里插播一则复盘：我不相信命定论，但我觉得一些哪怕后见之明觉得“错误”的选择都是不可避免的，这是社会家庭等外在影响和个人思考模式这些共时条件的产物，对大部分人都是如此。能改变的只有去跳出共时的框架——真诚中带点赛博朋克的建议是，把自己当作“未来人”，因为我后来发现之前大部分走弯路的原因在于我没有考虑到（e.g.）N年后的我需要什么。&lt;/p&gt;
&lt;p&gt;大一基本就是这样，对应的是概述里“从确定本科录取后我就设定了非常夸张的转行目标，然后发现困难重重，转而决定走极端保守的一条路”这部分。&lt;/p&gt;
&lt;h3 id=&#34;2-大二大三上机缘巧合主义为爱发电人士&#34;&gt;2 大二&amp;amp;大三上：机缘巧合主义为爱发电人士&lt;/h3&gt;
&lt;p&gt;大二专业课多起来以后，白天夜晚几乎都在连轴转上课/写essay/paper/讨论稿，并没有心思或者时间做别的事。到了寒假终于松一口气，那时就按照大一时的草率规划，为了寒假后找四大实习，趁着假期考了一门acca。&lt;/p&gt;
&lt;p&gt;那个寒假后半闲来无事，在冻鳗社和冻鳗批评社群里潜潜水，在家打打游戏，机缘巧合发现了两件事：1）啤酒烧烤&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;很好玩，同时原神启动，2）游戏行业也有非技术的岗位。这是我第一次意识到从玩家转变为制作发行方的可能性。&lt;/p&gt;
&lt;p&gt;大二下一上来我又开始为暑假实习发愁。一方面得去贯彻大一的四大谜之规划：大约在四五月份收到了四大某所的一个长期提前批项目的实习offer，四舍五入几乎是正职offer的直通车，但通过向学姐打听和自己参加项目的培训，发现audit的工作从wlb、日常工作本身的挑战性和行业气质和未来发展等种种角度都不太适合我，所以在项目里呆了一学期就退出了。&lt;/p&gt;
&lt;p&gt;另一方面，我也试了试广撒网，找互联网游戏行业的实习。五月再次机缘巧合听小道消息说，字节会负责发行啤酒烧烤的海外服，随即爬去招聘官网找到了jd看着像这游戏的岗位，事实证明我猜得没错；面试官疑似被我全是感情没有技巧的言辞打动，总之最后还是发了项目组实习的offer。其实后续还收到了几个不同领域的听见过名字的互联网公司的offer，但我毫不犹豫地拒绝了其他的（其中包括一个后来大三实习的去处），选择去游戏行业为爱发电，大约从暑假开始持续到大三上的中间。&lt;/p&gt;
&lt;p&gt;（这里应插入「分叉路口紧急转入隔壁车道.jpg」）&lt;/p&gt;
&lt;p&gt;大二和大三上几乎是我感受上最漫长的、焦虑到如坐针毡的日子最多的本科篇章，但它也只boil down to故事中短短一句“在短暂的探索后发现不感兴趣，又止损再次转向到以为更加喜欢的事物上”。感叹一句，人生大概不论怎么过，最终都只能剩下一句话，一篇文章，至多一本书的长度，就算失去所有东西也不过是失去这点东西，所以&amp;quot;we have something to lose&amp;quot;真的是错觉。&lt;/p&gt;
&lt;h3 id=&#34;3-大三参量质变&#34;&gt;3 大三：参量质变&lt;/h3&gt;
&lt;p&gt;时间上，我的大三是指2021年9月到2022年8月。地点上，我的大三始于一家实习公司，路过了一个云端的英国交流学校，后在家里经过了大几个月（22年上海事件），终于另一家实习公司，总之没怎么在学校。态度上，我的大三过得匆忙草率。&lt;/p&gt;
&lt;p&gt;大三开始时是我在字节实习的第三个月，当时并不是特别喜欢这份工作。原因并不是常见的职场pua、工作太累或是条件不好，不如说正相反，午休和同事聊我最近在玩的野炊实在惬意，而且正职同事加的班我是一点没加，三餐下午茶咖啡零食我也是一顿没落下。让我却步的是岗位不明确的成长性，这是部分并不核心的非技术职能的通病，它既然不要求硬技能，也自然不培养硬技能。实习生的我和身边非技术同事所做的事情都过于琐碎，以至于我无法看到如果我成为相关岗位的正式员工后的几年内能有明显的成长空间。&lt;/p&gt;
&lt;p&gt;因为对岗位不满，于是琢磨着再换一个方向，这就又想回到了cs。恰好这时实习完了回到学校上英国交流学习的网课，选修了一门要写R语言的定量研究课，写代码和学数学是我读了纯文科专业后为数不多觉得有趣有挑战性的事，这门课的体验也不例外。顺便，这是大一问的英国学姐提到的课，我念念不忘地选择交流几乎就是为了这门课，那时的回旋镖终于在这里收尾。&lt;/p&gt;
&lt;p&gt;后续应该还发生了不少让我坚定决心转专业的事情，但我对此的回忆已经很模糊，也说不清具体是怎么个心路历程、到底该把哪件事作为个人编年史中转码的导火索，实际就像把零零总总各种经历、记忆放进了参量质变仪，最后的产物就是我的五年日记本上2022年1月1日的一句“决定转专业留学！”的记录。不过虽说是转专业，其实只是回到了自己三四年前设想的轨道上。&lt;/p&gt;
&lt;p&gt;还有一段收尾性的支线剧情：22年一过完春节就开始准备春招实习，因为带着一段游戏实习，那时应该还是打算最后试一下游戏行业，严格来说只打算试试米忽悠某岗位的某方向（这里是20年开始沉迷原神的回旋镖），顺便面一下别的公司。结果是mhy面试准备得非常认真但还是失败了，原因是我非常固执地不想调剂，过程略，在微博上曾经也有提到点。至此算是告别了游戏行业。&lt;/p&gt;
&lt;p&gt;以上就是编年史概述接近尾声的部分——“但实际做了发现不行，最后还是回到了最初的‘夸张目标’”。很庆幸我的经历中的故事大多有始有终，每个序幕都有它的终幕：从大一时转码计划受阻到大三大四规划重回正轨；从成为几个游戏的玩家到自己进入或没能进入游戏项目组实习；从大一急转弯走向四大到最后退出实习项目；从18年请教转专业的学姐到23年毕业前和学姐再次相遇聊天。&lt;/p&gt;
&lt;h3 id=&#34;4-大四&#34;&gt;4 大四&lt;/h3&gt;
&lt;p&gt;逐渐懒得起标题&amp;hellip;&lt;/p&gt;
&lt;p&gt;大四上并没有什么转折点或者里程碑，只是平淡地结束了本科最后一段实习，时刻为推荐信、文书和毕业论文发愁；大四下也脱不开毕业和升学的主旋律，只是看什么都多了几分只是当时已惘然的感慨，连旦苑食堂都多吃了几次。&lt;/p&gt;
&lt;h3 id=&#34;最近&#34;&gt;最近&amp;hellip;&lt;/h3&gt;
&lt;p&gt;最近在学基础课，看一些项目的东西，我还菜得很。&lt;/p&gt;
&lt;p&gt;其实转专业对我是一个影响很大的决定，在不得不面对所谓“科班”的世界以后压力一直特别大，发生的每件事都指向我和他们之间巨大的鸿沟，时刻提醒我还有很多很多需要学习的东西。这也是为什么每天都忙到意识模糊了才睡觉，甚至有时焦虑得睡不着。怎么说，继续努力吧？&lt;/p&gt;
&lt;p&gt;——写于毕业前的几个意识模糊的深夜&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;后来想了下，按照占比排序的完整版主观原因是：长期应试导致对自我和社会认知不足，缺乏明显的motivation；有来自家庭里复交同亲属的学历压力，让我不愿意用哪怕一成风险去赌专业；九个月长假太诱人，属于是庆祝应试生涯结束的短暂享乐主义。总之，我至今不觉得那时有做出别的选择的可能。&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;啤酒烧烤是日本音乐游戏「プロジェクトセカイカラフルステージ！feat.初音ミク」的简称，毫无疑问至今仍是我最喜欢的二次元音游企划。&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
- http://eimy.ink/posts/2023/undergrad-chronicle/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>61B Notes - Hashing</title>
        <link>http://eimy.ink/posts/2023/hashing/</link>
        <pubDate>Fri, 31 Mar 2023 20:35:43 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/hashing/</guid>
        <description>EIMY http://eimy.ink/posts/2023/hashing/ -&lt;h1 id=&#34;hashing&#34;&gt;Hashing&lt;/h1&gt;
&lt;p&gt;这一课笔记的逻辑结构和课件略有区别，总体根据最初设定的两个优化目标分为两部分。&lt;/p&gt;
&lt;p&gt;第一部分找到一种数据结构（hash table），解决了search tree的generalization的问题；第二部分优化这个结构，解决了performance的问题。&lt;/p&gt;
&lt;h2 id=&#34;limits-of-search-tree-sets&#34;&gt;Limits of Search Tree sets&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;requires the objects to be comparable&lt;/li&gt;
&lt;li&gt;performance not good enough (Θ(log N))&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此之后的改进主要在这两方面：&lt;mark&gt;1）generalize to more types of objects&lt;/mark&gt;；&lt;mark&gt;2）节约内存、降低复杂度&lt;/mark&gt;。&lt;/p&gt;
&lt;h2 id=&#34;generalization-to-various-objects&#34;&gt;Generalization to various objects&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;第一部分找到一种数据结构（hash table），解决了search tree的generalization的问题&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;a-better-structure-data-indexed-sets&#34;&gt;A Better Structure: Data Indexed Sets&lt;/h3&gt;
&lt;p&gt;这一部分从&lt;mark&gt;generalization&lt;/mark&gt;入手，从&lt;strong&gt;Data Indexed Integer Set&lt;/strong&gt; (Int -&amp;gt; index）引入，扩展到&lt;strong&gt;Data Indexed English Word Set&lt;/strong&gt;（EN word -&amp;gt; Int -&amp;gt; index），最后一步步generalize到&lt;strong&gt;Data Indexed String Set&lt;/strong&gt;（String -(based on ASCII)-&amp;gt; Int -&amp;gt; index）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先想到的是Data Indexed Integer Set
&lt;ul&gt;
&lt;li&gt;缺点是它太&lt;strong&gt;浪费memory&lt;/strong&gt;了，并且&lt;strong&gt;无法表示&lt;/strong&gt;除了integer以外的&lt;strong&gt;其他对象&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331184608386.png#center&#34; alt=&#34;data indexed integer set&#34; style=&#34;zoom:30%;&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;其次，为了能够表示其他种类的对象，通过进制转换将字母转换成integer的index。
&lt;ul&gt;
&lt;li&gt;在进制的选择上，为了防止index重复（collision），选择base &amp;gt;= N（item种类）&lt;/li&gt;
&lt;li&gt;比如将27作为base转换26个字母&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;因此就有了Data Indexed English Word Set。
&lt;ul&gt;
&lt;li&gt;缺点是这个方法&lt;strong&gt;无法应对字符&lt;/strong&gt;（“eGg!”）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331184931333.png#center&#34; alt=&#34;~ english word set&#34; style=&#34;zoom:30%;&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;为了进一步从英文单词generalize到字符，采用ASCII码/Unicode将String转化为index。&lt;/li&gt;
&lt;li&gt;于是进化出了Data Indexed String Set
&lt;ul&gt;
&lt;li&gt;缺点是index过大，会造成&lt;strong&gt;overflow&lt;/strong&gt;，超过java的限制（+2,147,483,647）。&lt;/li&gt;
&lt;li&gt;而overflow会进一步导致index重复（&lt;strong&gt;collision&lt;/strong&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331190320404.png#center&#34; alt=&#34;Data Indexed String Set&#34; style=&#34;zoom:33%;&#34; /&gt;
&lt;p&gt;为了“解决”这个&lt;mark&gt;generalization&lt;/mark&gt;部分的遗留问题，将引入hash code的编码方式。&lt;/p&gt;
&lt;h3 id=&#34;handling-collision-hash-code-and-hash-table&#34;&gt;Handling Collision: Hash Code and Hash Table&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Definition:&lt;/p&gt;
&lt;p&gt;a hash code “&lt;strong&gt;projects&lt;/strong&gt; a value from a set with many (or&lt;/p&gt;
&lt;p&gt;even an infinite number of) members to a value from a set with a fixed&lt;/p&gt;
&lt;p&gt;number of (fewer) members.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;首先“解决”刚才的overflow导致collision的问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;turns out &lt;strong&gt;collision无法避免，只能应对&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;应对方法是把hashcode相同的item放进一个&lt;strong&gt;bucket&lt;/strong&gt;。可以用LinkedList、ArrayList、ArraySet等等。
&lt;ul&gt;
&lt;li&gt;bucket在示意图里是每一个index格子所指向的一筐item。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;于是它又进化成了&lt;strong&gt;Separate Chaining Data Indexed Array&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331192023993.png#center&#34; alt=&#34;buckets&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331193729555.png#center&#34; alt=&#34;Separate Chaining Data Indexed Array&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;p&gt;终于处理好了collision——这也意味着&lt;mark&gt;generalization&lt;/mark&gt;部分的问题至此彻底解决。&lt;/p&gt;
&lt;h2 id=&#34;improving-performance&#34;&gt;Improving Performance&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;第二部分优化hash table的结构，解决了performance的问题&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;接下来就是开头的第二个问题&lt;mark&gt;performance（memory &amp;amp; complexity）&lt;/mark&gt;。&lt;/p&gt;
&lt;p&gt;这个问题可以分解为两部分，一是几万个bucket太&lt;strong&gt;浪费memory&lt;/strong&gt;，二是&lt;strong&gt;complexity可能会很高&lt;/strong&gt;（比如所有的item都连成了一串）。&lt;/p&gt;
&lt;h3 id=&#34;saving-memory&#34;&gt;Saving Memory&lt;/h3&gt;
&lt;p&gt;为了节约memory，改成只用N个bucket。&lt;/p&gt;
&lt;p&gt;方法是HashCode % NumBuckets把hashCode重新归档。比如，只用10个bucket，就把hashCode%10：&lt;/p&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331200830409.png#center&#34; alt=&#34;using 10 buckets&#34; style=&#34;zoom:33%;&#34; /&gt;
&lt;p&gt;以上完成的就是Hash Table。完整流程示意图如下：&lt;/p&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331200118828.png#center&#34; alt=&#34;Hash Table&#34; style=&#34;zoom: 40%;&#34; /&gt;
&lt;h3 id=&#34;reducing-complexity&#34;&gt;Reducing Complexity&lt;/h3&gt;
&lt;p&gt;为了让每个bucket里的平均item数量保持恒定，需要动态改变bucket数量——resizing。&lt;/p&gt;
&lt;p&gt;具体来说，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;已知N为item总数，M为bucket总数&lt;/li&gt;
&lt;li&gt;设定load factor = N / M （即最多平均每个bucket里有几个item）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下为示意图，如果load factor ≥ 1.5，将bucket数M翻倍：&lt;/p&gt;
&lt;img src=&#34;./Hashing.assets/image-20230331201905735.png#center&#34; alt=&#34;image-20230331201905735&#34; style=&#34;zoom: 33%;&#34; /&gt;
&lt;h2 id=&#34;finale-hash-table-runtime-analysis&#34;&gt;Finale: Hash Table Runtime Analysis&lt;/h2&gt;
&lt;p&gt;Worst Case Runtime:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;contains(x)&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;add(x)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bushy BSTs&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(log N)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(log N)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;DataIndexedArray&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Separate Chaining Hash Table With No Resizing&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(N)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(N)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;hellip; With Resizing&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(1)†&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Θ(1)*†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;*: Indicates “on average”.
†: Assuming items are evenly spread. 这里尤其要注意，如果hashCode()不好（无法平均分配items），那么还是会像without resizing的HT一样有Θ(N)。&lt;/p&gt;
&lt;p&gt;有了resizing后，worst case operation数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不再是遍历全部连成一串的N个item【$\Theta(N)$】&lt;/li&gt;
&lt;li&gt;而是遍历最多N/M个item【$\Theta(N/M) = \Theta(1)$】&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由此&lt;mark&gt;performance&lt;/mark&gt;的问题也解决了。&lt;/p&gt;
&lt;h2 id=&#34;op-how-to-compute-a-hashcode&#34;&gt;(Op) How to Compute a hashCode&lt;/h2&gt;
&lt;p&gt;Q: How to write a good &lt;code&gt;hashCode()&lt;/code&gt; method?&lt;/p&gt;
&lt;p&gt;A: Use a small &lt;strong&gt;prime base&lt;/strong&gt;, for it yields better randomness and cost less to compute&lt;/p&gt;
&lt;p&gt;下面是两个hashCode()方法的例子：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Hashing a collection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// elevate the current hash code
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// add new item’s hash code
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Hashing a recursive structure (e.g. a tree)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;mi&#34;&gt;31&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    	&lt;span class=&#34;mi&#34;&gt;31&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;31&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;- http://eimy.ink/posts/2023/hashing/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>61B Notes - B-Trees &amp; LLRB</title>
        <link>http://eimy.ink/posts/2023/b-tree-llrb/</link>
        <pubDate>Tue, 28 Mar 2023 22:36:43 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/b-tree-llrb/</guid>
        <description>EIMY http://eimy.ink/posts/2023/b-tree-llrb/ -&lt;h1 id=&#34;b-tree-llrb&#34;&gt;B-Tree, LLRB&lt;/h1&gt;
&lt;p&gt;Hug一般会顺滑地衔接/引入知识点，但这些衔接部分写在笔记里多少有点啰嗦，所以这里会略写。&lt;/p&gt;
&lt;h2 id=&#34;bst的局限&#34;&gt;BST的局限&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;先引入两个BST的属性：height和average depth
&lt;ul&gt;
&lt;li&gt;height：determines the &lt;strong&gt;worst case runtime&lt;/strong&gt; to find a node&lt;/li&gt;
&lt;li&gt;average depth：determines the &lt;strong&gt;average case runtime&lt;/strong&gt; to find a node&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328095936843.png&#34;&gt;
&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;然后看看BST的各种属性
&lt;ul&gt;
&lt;li&gt;Worst case $ \Theta( N)$ height&lt;/li&gt;
&lt;li&gt;Best case $ \Theta(log N)$ height&lt;/li&gt;
&lt;li&gt;Random trees have $ \Theta(log N)$ average depth and height (bushy)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;随机情况下表现还不错，问题是现实中会不断从右边insert数据，这会导致不平衡，比如
&lt;ul&gt;
&lt;li&gt;add(“01-Jan-2019, 10:31:00”)&lt;/li&gt;
&lt;li&gt;add(“01-Jan-2019, 18:51:00”)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;b-trees--2-3-trees--2-3-4-trees&#34;&gt;B-Trees / 2-3 trees / 2-3-4 trees&lt;/h2&gt;
&lt;p&gt;接上，为了防止不平衡，我们不断把新的key insert进原来的node中，然后进行node splitting。&lt;/p&gt;
&lt;p&gt;于是就出现了新的树B-trees。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;B-trees should be called juicy trees.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;定义&#34;&gt;定义&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;B-tree是一种自平衡树，总的分为以下几类：
&lt;ul&gt;
&lt;li&gt;B-trees of order L=3 (like we used today) are also called a &lt;strong&gt;2-3-4 tree&lt;/strong&gt; or a 2-4 tree（如图）&lt;/li&gt;
&lt;li&gt;B-trees of order L=2 are also called a &lt;strong&gt;2-3 tree&lt;/strong&gt; （如图）&lt;/li&gt;
&lt;li&gt;B-trees of large L are used in practice for databases etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328102217909.png#center&#34; alt=&#34;image-20230328102217909&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;h3 id=&#34;构成机制&#34;&gt;构成机制&lt;/h3&gt;
&lt;p&gt;（node-split）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1/ Insert into a leaf until the number of keys exceeds L&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2/ In case of excessive keys, send the second (1 st) node up, and split the node&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;几个例子：&lt;/p&gt;
&lt;center&gt;【非连锁反应】&lt;/center&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328103007573.png&#34;&gt;
&lt;/center&gt;
&lt;center&gt;【涉及到连锁反应】&lt;/center&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328103228293.png&#34;&gt;
&lt;/center&gt;
&lt;center&gt;【涉及到root split】&lt;/center&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328103520808.png&#34;&gt;
&lt;/center&gt;
&lt;h3 id=&#34;性质&#34;&gt;性质&lt;/h3&gt;
&lt;p&gt;（or Invariants）&lt;/p&gt;
&lt;p&gt;基于以上构成机制，可以得出B-tree的一些性质。B-trees are balanced in that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;All leaves must be the same distance from the source&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;考虑：涉及到root-split，height+1，所有node都会下降一层；&lt;/li&gt;
&lt;li&gt;如不涉及root-split，height不变&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A &lt;strong&gt;non-leaf node&lt;/strong&gt; with k items must have exactly &lt;strong&gt;k+1 children&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;runtime-analysis&#34;&gt;Runtime Analysis&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Height：Θ(log N) for both worst cast and best case
&lt;ul&gt;
&lt;li&gt;best case是每个node都有L个items（满的） $\Rightarrow$ Height grows with $\Theta(log_{L+1}N)$&lt;/li&gt;
&lt;li&gt;worst case是每个node只有1个item $\Rightarrow$ 所以和BST一样Height grows with $\Theta(log_2N)$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;operation runtime: &lt;code&gt;contains()&lt;/code&gt; and &lt;code&gt;add()&lt;/code&gt; are both $O(log N)$
&lt;ul&gt;
&lt;li&gt;【worst case】&lt;code&gt;contains()&lt;/code&gt;: $C = （层数）log_{L+1}{N} \space·\space （node \space per \space layer）1 \space·\space （work \space per \space node）L$&lt;/li&gt;
&lt;li&gt;【worst case】&lt;code&gt;add()&lt;/code&gt;: 多了一些split operation，但化简后是一样的&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328115018100.png&#34;&gt;
&lt;/center&gt;
&lt;h3 id=&#34;b-tree的局限&#34;&gt;B-Tree的局限&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;猜猜为什么上面没有代码实现部分&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;left-leaning-red-black-trees&#34;&gt;Left Leaning Red-Black Trees&lt;/h2&gt;
&lt;h3 id=&#34;定义-1&#34;&gt;定义&lt;/h3&gt;
&lt;p&gt;A BST with left glue links that represents a 2-3 tree is often called a “Left Leaning Red Black Binary Search Tree” or LLRB&lt;/p&gt;
&lt;p&gt;可以理解为：LLRB是一种和某一个B-Tree对应的BST。具体备注：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LLRBs are normal BSTs!&lt;/li&gt;
&lt;li&gt;There is a &lt;strong&gt;1-1 correspondence&lt;/strong&gt; between an LLRB and an equivalent 2-3 tree.&lt;/li&gt;
&lt;li&gt;The red is just a convenient fiction. Red links don’t “do” anything special&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;性质-1&#34;&gt;性质&lt;/h3&gt;
&lt;p&gt;和BST一样&lt;/p&gt;
&lt;p&gt;尤其需要注意的几个性质：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All leaves must be the same distance from the source（只数black links）&lt;/li&gt;
&lt;li&gt;No node has two red links&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;构成机制-1&#34;&gt;构成机制&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;原理上是基于2-3 tree，将node中较小的item下移，如&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);zoom:40%;&#34; 
 src=&#34;./B-Tree-LLRB.assets/image-20230328202825231.png&#34;&gt;
&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;实际上，因为不可能先实现2-3 tree，再调整成LLRB。在代码中会利用red link, rotate, flip color直接实现LLRB：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;always use a &lt;strong&gt;red link&lt;/strong&gt; when inserting （类比在2-3中会先往node中添加item）&lt;/p&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328211407567.png#center&#34; alt=&#34;image-20230328211407567&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when inserting items &lt;strong&gt;on the right&lt;/strong&gt;, rotateLeft()&lt;/p&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328211424939.png#center&#34; alt=&#34;image-20230328211424939&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when inserting &lt;strong&gt;on the left twice&lt;/strong&gt;, rotateRight()&lt;/p&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328212334776.png#center&#34; alt=&#34;image-20230328212334776&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(a new rule) allows representing &lt;strong&gt;temporary 4-nodes&lt;/strong&gt; as BST nodes with two red links&lt;/p&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328212423779.png#center&#34; alt=&#34;image-20230328212423779&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In case of tmp 4-nodes, flipcolor().&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a rotation or flip operation &lt;strong&gt;cause an additional violation&lt;/strong&gt;, fix it&lt;/p&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328213407205.png#center&#34; alt=&#34;image-20230328213407205&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;img src=&#34;./B-Tree-LLRB.assets/image-20230328213419511.png#center&#34; alt=&#34;image-20230328213419511&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;代码实现&#34;&gt;代码实现&lt;/h3&gt;
&lt;p&gt;以下是这些方法的代码实现，包括调整过的Node Class、&lt;code&gt;put()&lt;/code&gt;、新增的&lt;code&gt;rotate&lt;/code&gt;系列、&lt;code&gt;flipColors()&lt;/code&gt;和&lt;code&gt;isred()&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// LLRB insertion (p.439)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RedBlackBST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Comparable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// BST node with color bit (see page 433)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// See page 433.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rotateLeft&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// See page 434.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rotateRight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// See page 434.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;flipColors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// See page 436.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;               &lt;span class=&#34;c1&#34;&gt;// See page 398.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// Search for key. Update value if found; grow table if new.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BLACK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Do standard insert, with red link to parent.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;           &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareTo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 基于BST只需要修改这里三个clause
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rotateLeft&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rotateRight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;flipColors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;c1&#34;&gt;// some omitted methods within RedBlackBST Class
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isRed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rotateLeft&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// rotateRight() is similar
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;flipColors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BLACK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;color&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BLACK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// delete比较麻烦，详细见p.441.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;runtime-analysis-1&#34;&gt;Runtime Analysis&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Height:  $O(logN)$&lt;/li&gt;
&lt;li&gt;&lt;code&gt;contains()&lt;/code&gt;:  $O(logN)$&lt;/li&gt;
&lt;li&gt;&lt;code&gt;insert()&lt;/code&gt;:  $O(logN)$
&lt;ul&gt;
&lt;li&gt;$O(logN)$  to add the new node&lt;/li&gt;
&lt;li&gt;$O(logN)$  for rotation and color flip operations per insert （化简后忽略常数 所以还是 $O(logN)$）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;summary-of-search-trees&#34;&gt;Summary of search trees&lt;/h2&gt;
&lt;h3 id=&#34;逻辑梳理&#34;&gt;逻辑梳理&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Cited from the slides [lec 18, 19sp]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Binary search trees** are simple, but they are subject to imbalance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;2-3 Trees (B Trees)&lt;/strong&gt; are balanced, but painful to implement and relatively slow.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LLRBs&lt;/strong&gt; insertion is simple to implement (but delete is hard).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Works by maintaining mathematical bijection with a 2-3 trees.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java’s TreeMap is a red-black tree (not left leaning).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Maintains correspondence with 2-3-4 tree (is not a 1-1 correspondence).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Allows glue links on either side (see Red-Black Tree).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;More complex implementation, but significantly (?) faster.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;complexityruntime对比&#34;&gt;Complexity/runtime对比&lt;/h3&gt;
&lt;p&gt;WC = worst case&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;BST&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;B-Trees&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;LLRB&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;Height&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\Theta(logN)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;contains()&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(log N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;insert()&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(log N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(logN)$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;WC：$O(log N)$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;说明：B树和LLRB是self-balanced（不会出现BST变成LinkedList的极端情况），所以比较快。&lt;/p&gt;
&lt;p&gt;总的来说：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;B-trees的自平衡避免了BST的worst-cast complexity，&lt;/li&gt;
&lt;li&gt;而LLRB不仅继承了B-trees的自平衡特性，还继承了BST易于实现的特点。&lt;/li&gt;
&lt;/ul&gt;
- http://eimy.ink/posts/2023/b-tree-llrb/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>61B Notes - ADT and BST</title>
        <link>http://eimy.ink/posts/2023/bst/</link>
        <pubDate>Mon, 27 Mar 2023 22:36:43 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/bst/</guid>
        <description>EIMY http://eimy.ink/posts/2023/bst/ -&lt;p&gt;Reference是19sp的lec slides。&lt;/p&gt;
&lt;h1 id=&#34;trees&#34;&gt;Trees&lt;/h1&gt;
&lt;p&gt;首先引入abstract data type的概念，然后递进/逐步优化式地介绍三种树（BST, B-Tree, LLRB）。&lt;/p&gt;
&lt;p&gt;笔记会分成两部分，这一篇只整理ADT和BST。&lt;/p&gt;
&lt;h2 id=&#34;abstract-data-typesadt&#34;&gt;Abstract Data Types（ADT）&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;An abstract data type is defined by its &lt;strong&gt;operations&lt;/strong&gt;, not implementations.&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;层级&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;例子&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ADT&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Deque; DisjointSets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Implementations of ADT&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ArrayDeque, LinkedListDeque;&lt;br /&gt; QuickFindDS, WeightedQuickUnionDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Operations of ADT&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;size()&lt;/code&gt;, &lt;code&gt;get()&lt;/code&gt;, &lt;code&gt;addFirst(Item x)&lt;/code&gt;, etc.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Among the most important interfaces in the java.util library are those that extend the &lt;strong&gt;Collection interface&lt;/strong&gt;. 关系如图。
&lt;ul&gt;
&lt;li&gt;List&lt;/li&gt;
&lt;li&gt;Set&lt;/li&gt;
&lt;li&gt;Map&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./BST.assets/image-20230327205326564.png#center&#34; alt=&#34;image-20230327205326564&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;这次关注的是两个tree相关的，TreeSet和TreeMap。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;binary-search-tree&#34;&gt;Binary Search Tree&lt;/h2&gt;
&lt;h3 id=&#34;bst缘起&#34;&gt;BST缘起&lt;/h3&gt;
&lt;p&gt;问：怎么改进linkedlist，才能更加快速地完成搜索？&lt;/p&gt;
&lt;p&gt;答案是：1）将entry point设置在中间而不是一端 2）从中间往两端 3）跳跃地遍历（如图）&lt;/p&gt;
&lt;img src=&#34;./BST.assets/image-20230327210424890.png#center&#34; alt=&#34;image-20230327210424890&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;h3 id=&#34;bst定义与性质&#34;&gt;BST定义与性质&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A binary search tree is a &lt;strong&gt;rooted&lt;/strong&gt; &lt;strong&gt;binary&lt;/strong&gt; &lt;strong&gt;tree&lt;/strong&gt; with the &lt;strong&gt;BST property&lt;/strong&gt;.
&lt;ul&gt;
&lt;li&gt;Tree properties:
&lt;ul&gt;
&lt;li&gt;A set of nodes,&lt;/li&gt;
&lt;li&gt;One path between any two nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Rooted trees prop:
&lt;ul&gt;
&lt;li&gt;除root外每个节点都只有一个父节点&lt;/li&gt;
&lt;li&gt;root 一般画在最顶上&lt;/li&gt;
&lt;li&gt;(for binary tree) 每个节点下只能有0/1/2个子节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BST properties:
&lt;ul&gt;
&lt;li&gt;Ordering: Every key in the &lt;strong&gt;left&lt;/strong&gt; subtree is &lt;strong&gt;less&lt;/strong&gt; than X’s key. Every key in the &lt;strong&gt;right&lt;/strong&gt; subtree is &lt;strong&gt;greater&lt;/strong&gt; than X’s key&lt;/li&gt;
&lt;li&gt;No duplicate keys allowed&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;./BST.assets/image-20230327211546048.png#center&#34; alt=&#34;image-20230327211546048&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;p&gt;（路过一颗BST）&lt;/p&gt;
&lt;h3 id=&#34;bst-operations&#34;&gt;BST Operations&lt;/h3&gt;
&lt;p&gt;介绍BST的三个operation。&lt;/p&gt;
&lt;h4 id=&#34;search--find&#34;&gt;Search / Find&lt;/h4&gt;
&lt;h5 id=&#34;代码实现&#34;&gt;代码实现&lt;/h5&gt;
&lt;p&gt;（看代码更方便）对比&lt;code&gt;searchKey&lt;/code&gt;和&lt;code&gt;T.key&lt;/code&gt;&amp;ndash;&amp;gt; 找到了！/ &lt;code&gt;searchKey&lt;/code&gt;较小，search &lt;code&gt;T.left&lt;/code&gt; /  &lt;code&gt;searchKey&lt;/code&gt;较大，search &lt;code&gt;T.right&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// reference: Algorithms, p.399
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/** Return value associated with key in the subtree rooted at x;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *  return null if key not present in subtree rooted at x.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// helper
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareTo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;runtime-analysis&#34;&gt;Runtime Analysis&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Worst case（茂密的二叉树.jpg）runtime：$\Theta(log{N})$&lt;/li&gt;
&lt;li&gt;Tree Height：~$log_2{(N)}$
&lt;ul&gt;
&lt;li&gt;这样考虑：每增加一层需要x2倍的节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;insert&#34;&gt;Insert&lt;/h4&gt;
&lt;h5 id=&#34;代码实现-1&#34;&gt;代码实现&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/** Search for key. Update value if found; grow table if new. */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/** Change key’s value to val if key in subtree rooted at x.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *  Otherwise, add new node to subtree associating key with val. */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareTo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// compare searchKey to curKey
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   	&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;insert2-runtime-analysis&#34;&gt;Insert.2 Runtime Analysis&lt;/h5&gt;
&lt;p&gt;应该和find一样。&lt;/p&gt;
&lt;h4 id=&#34;delete&#34;&gt;Delete&lt;/h4&gt;
&lt;p&gt;删除一共有三种情况：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;被删除的key&lt;strong&gt;没有&lt;/strong&gt;子节点（&amp;ndash;&amp;gt;see &amp;ldquo;glut&amp;rdquo;, 直接断开连接）&lt;/p&gt;
&lt;img src=&#34;./BST.assets/image-20230327215529578.png#center&#34; alt=&#34;image-20230327215529578&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;被删除的key&lt;strong&gt;有1个&lt;/strong&gt;子节点（&amp;ndash;&amp;gt; see &amp;ldquo;flat&amp;rdquo;，把父节点的指针指向子节点）&lt;/p&gt;
&lt;img src=&#34;./BST.assets/image-20230327215709610.png#center&#34; alt=&#34;image-20230327215709610&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;被删除的key&lt;strong&gt;有2个&lt;/strong&gt;子节点（如图，找到predecessor或successor代替它的位置）&lt;/p&gt;
&lt;img src=&#34;./BST.assets/image-20230327220006129.png#center&#34; alt=&#34;image-20230327220006129&#34; style=&#34;zoom:50%;&#34; /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;代码实现-p411&#34;&gt;代码实现 p.411&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;				&lt;span class=&#34;c1&#34;&gt;// 找到x下最小的节点&amp;amp;其子节点
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deleteMin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;				&lt;span class=&#34;c1&#34;&gt;// 返回删除最小节点后的root
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deleteMin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deleteMin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;// deleteMinHelper
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deleteMin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareTo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;								&lt;span class=&#34;c1&#34;&gt;// 假设已经找到了Node P
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// 确认P有无sub-nodes，A)有0/1subnodes则返回它
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;				&lt;span class=&#34;c1&#34;&gt;// B) 有2个nodes就需要调整一下树
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;       	&lt;span class=&#34;c1&#34;&gt;// 1. find the new substitute for the deleted node P
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deleteMin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 2. connect the updated right nodes to the new P
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;			&lt;span class=&#34;c1&#34;&gt;// 3. connect the original left sub-nodes to the new P
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;c1&#34;&gt;// 注意这里的顺序matters！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;runtime&#34;&gt;Runtime&lt;/h5&gt;
&lt;p&gt;应该和前面是一个数量级，因为只是额外多了一些修改步骤。&lt;/p&gt;
&lt;h3 id=&#34;bstset-vs-bstmap&#34;&gt;BSTSet v.s. BSTMap&lt;/h3&gt;
&lt;p&gt;这部分是Lab9 BSTmap的引入。&lt;/p&gt;
&lt;p&gt;BSTset和BSTmap结构相同（tree），区别是把每个node改成了用map来表示（如图）。&lt;/p&gt;
&lt;img src=&#34;./BST.assets/image-20230327215109239.png#center&#34; alt=&#34;image-20230327215109239&#34; style=&#34;zoom:50%;&#34; /&gt;- http://eimy.ink/posts/2023/bst/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>61B Notes - Asymptotics II</title>
        <link>http://eimy.ink/posts/2023/asymptotics2-notes/</link>
        <pubDate>Fri, 24 Mar 2023 20:11:22 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/asymptotics2-notes/</guid>
        <description>EIMY http://eimy.ink/posts/2023/asymptotics2-notes/ -&lt;p&gt;注：本文原文为英语，由ChatGPT翻译成中文。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;计算theta-fn的技巧&#34;&gt;计算$\Theta (f(N))$的技巧&lt;/h2&gt;
&lt;h3 id=&#34;示例1一个for循环&#34;&gt;示例1：一个For循环&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;方法1：计算操作次数（精确计数）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;ldquo;==&amp;ldquo;操作的总成本/操作次数为：
$$
C(N)=1+2+3+\dots+(N-2)+(N-1) = \frac{N(N-1)}{2}
$$
因此，运行时间为$\Theta (N^2)$。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;方法2：几何可视化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;（想象彩色方块-由于是一个三角形区域-运行时间为$\Theta (N^2)$。）&lt;/p&gt;
&lt;h3 id=&#34;示例2另一个for循环&#34;&gt;示例2：另一个For循环&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;printParty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ZUG&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;方法1：通过可视化找到界限&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;绘制0.5N（下方虚线）和4N（上方虚线）的轨迹&lt;/p&gt;
&lt;p&gt;C(N)将位于这两条线之间&lt;/p&gt;
&lt;p&gt;因此，运行时间为$\Theta (N)$。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;（个人认为这种方法不如数学方法直观。）&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;方法2：通过数学方法找到界限&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;想象一下方框：&lt;/p&gt;
&lt;center&gt;
     &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;基于简化的几何分析&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/1.png&#34;&gt;
 &lt;br&gt;
    &lt;/center&gt;
&lt;p&gt;因此，$C(N)$将为：
$$
C(N)=1+2+4+\dots+N= 2N-1
$$
因此，运行时间为$\Theta (N)$。&lt;/p&gt;
&lt;h3 id=&#34;示例3树递归&#34;&gt;示例3：树递归&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;f3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;方法1：直觉&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;每次将&lt;code&gt;n&lt;/code&gt;增加1，工作量加倍&lt;/p&gt;
&lt;p&gt;&amp;hellip;这导致运行时间直观上为$2^N$。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;center&gt;
     &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;树递归&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/2.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;方法2：代数&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$C(N)$的成本为：
$$
C(N) = 1+2+4+\dots+2^\left(N-1\right)=2^N-1
$$
因此，运行时间为$\Theta (2^N)$。&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;方法3：递归关系（超出范围）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;从以下开始：
$$
C(N)=2C(N-1)+1
$$&lt;/p&gt;
&lt;h3 id=&#34;示例4二分查找&#34;&gt;示例4：二分查找&lt;/h3&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;二分查找&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/image-20230324205823990.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;ol&gt;
&lt;li&gt;方法1：直觉&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;我们从N个选项开始，然后N/2，然后N/4 &amp;hellip; 直到只剩下1个。&lt;/p&gt;
&lt;p&gt;每次，我们将数组分成两半，因此最后我们必须执行总共$\log_{2}(N)$次操作&amp;hellip;&lt;/p&gt;
&lt;p&gt;因此，总体运行时间为$\Theta (\log(N))$。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;方法2：精确计数&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;二分查找&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/image-20230324210502839.png&#34;&gt;
 &lt;br&gt;
    &lt;/center&gt;
&lt;p&gt;因此，$C(N)=\left\lfloor \log_{2}(N) \right\rfloor + 1$（根据观察）。&lt;/p&gt;
&lt;p&gt;运行时间为$\Theta(\log(N))$。&lt;/p&gt;
&lt;h3 id=&#34;示例5归并排序&#34;&gt;示例5：归并排序&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;任意时间单位&lt;/strong&gt;：相对的时间需求&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;例如，如果我们运行N=6的选择排序，运行时间的阶数为$N^2$，那么运行时间将为约36个AU。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;关于归并排序-一个简单的情况（将两个列表合并为一个）&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;归并排序&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/image-20230324210928875.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;p&gt;其运行时间为$\Theta (N)$。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;归并排序-将归并排序应用于排序一个长列表&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;归并排序&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics2-notes.assets/image-20230324211924264.png&#34;&gt;
 &lt;br&gt;
    &lt;/center&gt;
&lt;p&gt;关键思想是将原始数组分割成最小的片段，并应用归并排序（其运行时间为$\Theta (N)$）。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;因此，归并排序的最坏情况运行时间为$\Theta (N \cdot \log(N))$，其中&lt;/p&gt;
&lt;p&gt;最上层花费约N个AU。&lt;/p&gt;
&lt;p&gt;下一层花费约N/2 + N/2 = N个AU。&lt;/p&gt;
&lt;p&gt;再下一层：N/4 + N/4 + N/4 + N/4 = N个AU。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;summary&#34;&gt;Summary&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;There is no magic. Just count.&lt;/li&gt;
&lt;li&gt;一个比较规范的方法见disc07的&lt;code&gt;andwelcome()&lt;/code&gt;：
&lt;ul&gt;
&lt;li&gt;【1】求Tree Height (number of layers)，如二叉树的话就是$logN$&lt;/li&gt;
&lt;li&gt;【2】求branching factor（分叉系数/ nodes per layer），如二叉树是$2^N$&lt;/li&gt;
&lt;li&gt;【3】求每个node的operations (work per node)，如二叉树是$N/2^i$&lt;/li&gt;
&lt;li&gt;最后乘起来：$\sum_{i=0}^{logN}\space·\space2^i\space·\space(\frac{N}{2^i}) = n\log{N}$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
- http://eimy.ink/posts/2023/asymptotics2-notes/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>61B Notes - Asymptotics</title>
        <link>http://eimy.ink/posts/2023/asymptotics-notes/</link>
        <pubDate>Wed, 22 Mar 2023 18:19:26 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/asymptotics-notes/</guid>
        <description>EIMY http://eimy.ink/posts/2023/asymptotics-notes/ -&lt;h1 id=&#34;asymptotics&#34;&gt;Asymptotics&lt;/h1&gt;
&lt;p&gt;CS61b算法部分的第一个lecture（中英混记）。记录的是lec的主要脉络。&lt;/p&gt;
&lt;h2 id=&#34;general-goal&#34;&gt;General Goal&lt;/h2&gt;
&lt;p&gt;这部分引出核心问题——“如何衡量算法效率”。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Efficiency comes in two ways&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编程成本（programming cost）&amp;lt;&amp;ndash; 61b前半程的关注点&lt;/li&gt;
&lt;li&gt;执行成本（execution cost）&amp;lt;&amp;ndash; 现在开始的关注点
&lt;ul&gt;
&lt;li&gt;time cost&lt;/li&gt;
&lt;li&gt;memory cost&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;引出问题：How to measure code efficiency？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;因此这一讲的目标是引入衡量算法效率的正式标准&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;intuitive-runtime-characterizations&#34;&gt;Intuitive Runtime Characterizations&lt;/h2&gt;
&lt;p&gt;这部分由浅入深展示了几个可以衡量程序效率的方法。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;比较执行时间
优点是直观，缺点是因为影响因素过多，不太可靠&lt;/li&gt;
&lt;li&gt;计算所有运算步骤累计次数（用实数/抽象N表示）
优点是可以看出增长规模（how it scales），但是算起来麻烦&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;scrnshot&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics-notes.assets/image-20230322165608035.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;h2 id=&#34;asymptotic-analysis&#34;&gt;Asymptotic Analysis&lt;/h2&gt;
&lt;p&gt;这部分首先介绍算法效率多大程度上受到增长规模（order of growth）的影响，然后引出能够简化渐进分析的方法。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Order of Growth的影响&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基本原则是，在分析效率时，只关注asymptotic behavior（即N趋向无穷大时的表现）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基于这个原则，可以观察比较N无穷大时的函数形状&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;暂时称这个&lt;strong&gt;函数形状&lt;/strong&gt;为order of growth，比如它可以是line、cubic、quadratic etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;也就是说，我们可以通过Order of Growth来衡量算法效率&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;但目前的分析增长规模的方式（symbolic count）不够简单，在数学上也不太严谨，所以需要将其简化：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;只看worst cast count&lt;/li&gt;
&lt;li&gt;只选一个有代表性的操作来count&lt;/li&gt;
&lt;li&gt;只看对order影响最大的一项，比如：n^3~~+n^2+1~~&lt;/li&gt;
&lt;li&gt;忽略系数&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;simplification/1&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics-notes.assets/image-20230322173642986-9480231.png&#34;&gt;
 &lt;br&gt;
    &lt;/center&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;到这步为止，分析时需要1）计算一整个表格，2）挑出一个代表性count，3）简化。这种分析步骤还可以进一步简化：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一种是直接看着代码，选择某个运算符进行计数&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;Approach1-based on exact count&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics-notes.assets/image-20230322174121371-9480240.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;更加简单的一种是几何上的分析（假设边是$N-1$，直接得出$N^2$）&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;Approach2-simpler geometric argument&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics-notes.assets/image-20230322174300699-9480253.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;asymptotic-notation&#34;&gt;Asymptotic Notation&lt;/h2&gt;
&lt;p&gt;最后介绍渐进分析的常用记号Big Theta（即Order of Growth）和Big O。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Big theta&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以用Big Theta来描述某一程序运行时间的增长速率。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;记号&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;假设有一个runtime function $R(n)$，如果$R(n)$的order of growth（函数形状）是$f(N)$&lt;/p&gt;
&lt;p&gt;则记作：
$$
R(n) \in \Theta (f(N))
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;定义&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
R(n) \in \Theta (f(N))
$$&lt;/p&gt;
&lt;p&gt;的意思是存在正常数$k_1$, $k_2$，使得
$$
k_1 · f(n) \leq R(N) \leq k_2 · f(N)
$$
对$N&amp;gt;N_0$（i.e. very large N）的所有数均成立。&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;举例&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;
 &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;&#34;&gt;Big Theta demo&lt;/div&gt;
&lt;img style=&#34;border-radius: 0.3125em;
 box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
 src=&#34;./Asymptotics-notes.assets/image-20230322180018120-9480260.png&#34;&gt;
 &lt;br&gt;
&lt;/center&gt;
&lt;ul&gt;
&lt;li&gt;Big O&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Big Theta更像是描述一种“等于”的关系（某一函数的增长速度等于xx），而Big O描述的是“小于等于”的关系。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;定义（*可以看出相比$\Theta$是把下限去掉了）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
R(n) \in \Theta (f(N))
$$&lt;/p&gt;
&lt;p&gt;的意思是存在正常数$k_2$，使得
$$
R(N) \leq k_2 · f(N)
$$
对$N&amp;gt;N_0$（i.e. very large N）的所有数均成立。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;举例：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
N^3+3N^4 \in \Theta(N^4)
$$&lt;/p&gt;
&lt;p&gt;$$
N^3+3N^4 \in O(N^6)
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Big O vs Big Theta&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Informal meaning&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Family&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Family Members&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Big Theta$$\Theta(f(N))$$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Order of Growth is f(N)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\Theta(f(N^2))$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$$N^2/2$$$$2N^2$$$$N^2+38N$$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Big O&lt;br/&gt;$$O(f(N))$$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Order of growth is less than or equal to f(N)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$O(f(N^2))$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$$N^2/2$$$$2N^2$$$$lg(N)$$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
- http://eimy.ink/posts/2023/asymptotics-notes/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>Intel Mac迁移至M1 Mac记录</title>
        <link>http://eimy.ink/posts/2023/mbp-setup/</link>
        <pubDate>Wed, 15 Mar 2023 10:12:10 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/mbp-setup/</guid>
        <description>EIMY http://eimy.ink/posts/2023/mbp-setup/ -&lt;p&gt;因为是intel转m1，会涉及到一些软件的重装和重新配置，所以在这里备忘一下&lt;/p&gt;
&lt;p&gt;主要参考：https://sspai.com/post/64301&lt;/p&gt;
&lt;h2 id=&#34;设备情况&#34;&gt;设备情况&lt;/h2&gt;
&lt;p&gt;旧机：MBP 13&amp;rsquo; 2018 256+8 Intel i5，系统是Monterey 12.1&lt;/p&gt;
&lt;p&gt;新机：MBP 14&amp;rsquo; 2021 512+16 M1&lt;/p&gt;
&lt;h2 id=&#34;步骤&#34;&gt;步骤&lt;/h2&gt;
&lt;h3 id=&#34;旧机准备&#34;&gt;旧机准备&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;01 升级系统至最新版本&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;实际因为不剩多少内存了，就没有升级&lt;/p&gt;
&lt;p&gt;备注：迁移后新机的系统版本是和旧机保持一致的！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;02 整理归档文件&amp;amp;应用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;具体完成了以下事项：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;【文件】系统性分类归档所有文件夹（以前分的太随意了）&lt;/li&gt;
&lt;li&gt;【文件】删除“下载”和“桌面”上显然不需要的文件&lt;/li&gt;
&lt;li&gt;【文件】删除/硬盘备份占用容量过大的文件&lt;/li&gt;
&lt;li&gt;【文件】从用户文件夹中备份命令行工具配置文件（可选）&lt;/li&gt;
&lt;li&gt;【应用】记录预备安装的软件（因为应用打算在新机上全部手动装）&lt;/li&gt;
&lt;li&gt;【应用】删除基本不用的软件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;顺便分享一下我目前的归档方案。&lt;/p&gt;
&lt;p&gt;桌面一般不放东西，下载一般乱放文件。除此以外，文稿分成以下几个文件夹：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;【ug-fdu】：UnderGrad，包含了每学年的文件夹、证书和资料以及社团和活动&lt;/li&gt;
&lt;li&gt;【grad】gradschool&lt;/li&gt;
&lt;li&gt;【life】：各种爱好&lt;/li&gt;
&lt;li&gt;【work】：工作相关的&lt;/li&gt;
&lt;li&gt;【selfedu】：自学内容+相应的作业和笔记&lt;/li&gt;
&lt;li&gt;【misc-notes】：miscellaneous, 存放没有明确父项目的笔记或整理，未来可能会分成tech和non-tech两类&lt;/li&gt;
&lt;li&gt;【misc-zatsu】：杂记。读笔、随笔什么的&lt;/li&gt;
&lt;li&gt;【常用证书和照片】：时不时被要求上传的东西，比如护照、证件照、电子签名&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;说明：整体分为学业、生活、工作三块，因为想尽可能减少层级方便查找，所以“生活”中的笔记、自学、杂记、照片都被独立出来平行放置了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;03 创建备份&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;用的是west digital的硬盘和系统自带应用time machine&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;04 退出iCloud&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;退出iCloud且关闭查找我的mac&lt;/li&gt;
&lt;li&gt;解除各种授权（可选，之后可以补救）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;新机配置&#34;&gt;新机配置&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;01 迁移&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;同一wifi连接状态下，两机打开迁移助手，选择需要迁移的文件即可。&lt;/p&gt;
&lt;p&gt;一些个人小故障：迁移完后旧机的触控板反应速度突然变得过于灵敏&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;02 安装软件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;秉持实质极简主义，不想全部迁移以后再一个个卸载，于是新机上的所有应用软件都是一个个安装的。&lt;/p&gt;
&lt;p&gt;第一批安装的主要应用（用不到这些感觉浑身有bug在爬）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chrome&lt;/li&gt;
&lt;li&gt;Alfred 5&lt;/li&gt;
&lt;li&gt;ClashX pro：用旧机下dmg然后drop过去&lt;/li&gt;
&lt;li&gt;typora&lt;/li&gt;
&lt;li&gt;IINA&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他东西：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;git：有新版本，但还是用的旧机迁移的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jdk&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Praat&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R+Rstudio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vscode&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;intellij idea&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adobe photoshop（备忘）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logic&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;final cut pro（备忘）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;office全家桶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;aldente（电池管理软件)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;03 其他设置&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;桌面：系统偏好设置-桌面与屏幕保护程序&lt;/li&gt;
&lt;li&gt;本地主机名：系统偏好设置-共享
这次给mac起了个独特又好记的名字——ipad-pro-max！&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;04 软件使用测试&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;测一下 git本地仓库使用
和旧机完全相同，不需要重新配置&lt;/li&gt;
&lt;li&gt;检查各个应用的耗能&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;附录遇到的问题&#34;&gt;附录：遇到的问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;git和homebrew&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;问题描述：执行&lt;a href=&#34;https://brew.idayer.com/guide/m1/&#34;&gt;官网quickstart&lt;/a&gt;的命令，显示“///git: bad CPU type in executable&amp;quot;&lt;/p&gt;
&lt;p&gt;原因：迁移过来的旧机系统没装rosetta&lt;/p&gt;
&lt;p&gt;解决方案：&lt;a href=&#34;https://superuser.com/questions/1647798/what-is-the-correct-homebrew-installation-command-for-an-m1-mac-mini-and-big-sur&#34;&gt;装rosetta&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;配置x86和arm的brew新名字时候出错&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;问题：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-zsh&#34; data-lang=&#34;zsh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;› &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; ~/.zprofile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The operation couldn’t be completed. Unable to locate a Java Runtime.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;原因：看来是因为没装java&lt;/p&gt;
&lt;p&gt;解决：去&lt;a href=&#34;https://www.oracle.com/java/technologies/downloads/#jdk19-mac&#34;&gt;oracle&lt;/a&gt;极速装了个jdk就好了。顺便这里最后没有把arm brew改成abrew，只把intel brew配置成了ibrew。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;不知道git是自带的还是迁移的版本&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;问题：如题&lt;/p&gt;
&lt;p&gt;解决：通过which git和git &amp;ndash;version确认版本和位置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;迁移旧brew软件包&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;解决：看&lt;a href=&#34;https://type.cyhsu.xyz/2020/12/use-homebred-on-m1-macs/#4-%E4%BB%8E%E6%97%A7-mac%E6%88%96-x86-%E7%89%88-homebrew%E8%BF%81%E7%A7%BB%E8%BD%AF%E4%BB%B6%E5%8C%85&#34;&gt;这里&lt;/a&gt;&lt;/p&gt;
- http://eimy.ink/posts/2023/mbp-setup/ - 2026 EIMY</description>
        </item>
    
    
    
        <item>
        <title>日本Live购票攻略</title>
        <link>http://eimy.ink/posts/2023/live-japan/</link>
        <pubDate>Thu, 23 Feb 2023 15:26:39 +0800</pubDate>
        
        <guid>http://eimy.ink/posts/2023/live-japan/</guid>
        <description>EIMY http://eimy.ink/posts/2023/live-japan/ -&lt;p&gt;在整理文献时突然想看夜鹿live，于是整理了一篇攻略备用。不过有些细节是我自己查资料以后的理解，不一定准确，欢迎指正。&lt;/p&gt;
&lt;h2 id=&#34;01-买票&#34;&gt;01 买票&lt;/h2&gt;
&lt;h3 id=&#34;不幸的热知识&#34;&gt;不幸的热知识&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;比较大的live都是&lt;strong&gt;抽选制&lt;/strong&gt;，即先抽票，剩下的票才会开抢票。——欧皇才是婆罗门！&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;位置都是随机的&lt;/strong&gt;，但内场票一般都在前几轮中抽完。部分会分不同等级的指定席分价格卖。&lt;/li&gt;
&lt;li&gt;抽票买票都需要&lt;strong&gt;日本手机号&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;基础知识&#34;&gt;基础知识&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Fan Club（FC）&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有些日本艺人会有自己的&lt;u&gt;收费订阅制&lt;/u&gt;fanclub/会员俱乐部，会有特典内容、先行抽票等等福利。&lt;/p&gt;
&lt;p&gt;抽live票的各种途径里这应该是中奖率最高、位置最好的一种。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;「抽选者」与「同行者」问题&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FC抽票时需要注意，如果抽一张票（即无同行者），那么这张票最终「使用者」需要和「抽选者」保持信息一致。说人话就是，谁抽的谁去。拿着别人名字的票有被查的风险。&lt;/p&gt;
&lt;p&gt;而如果是一个人用FC抽两张票，第二张票（也叫002）除非有特殊标注，一般不要求使用者身份。纸质票要求「同行者」和「抽选者」一起入场，电子票则可以直接app内转让。&lt;/p&gt;
&lt;p&gt;这个问题在代抽「改名字」、买二手票时都会遇到，务必弄清情况。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;开票轮次&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;日本live分批次开票，顺序一般为：（*有些会省略几轮）&lt;/p&gt;
&lt;p&gt;1）fanclub先行（会員先行），按阶级依次一轮二轮。以yrsk为例，购票人&amp;amp;同行者双会员第一批，其次是同行者非会员。&lt;/p&gt;
&lt;p&gt;2）艺人官网先行（オフィシャル先行）&lt;/p&gt;
&lt;p&gt;3）票务网站登陆者先行&lt;/p&gt;
&lt;p&gt;4）罗森/7-11/全家先行&lt;/p&gt;
&lt;p&gt;5）一般发售&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;举两个例子：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1）米津玄师2023 Tour 分为1次先行（需专辑）、2次先行（需专辑）、一般抽选&lt;/p&gt;
&lt;p&gt;抽过19年老米演唱会的一般抽选，没抽到。&lt;/p&gt;
&lt;center&gt;
    &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;&#34;&gt;米津 2023 Tour&lt;/div&gt;
    &lt;img style=&#34;border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
    src=&#34;./images/image-20230223132109493.png&#34;&gt;
    &lt;br&gt;
&lt;/center&gt;
&lt;p&gt;2）Yorushika 2023 「月と猫のダンス」分为会员先行1、会员先行2、官方先行&lt;/p&gt;
&lt;center&gt;
        &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;&#34;&gt;YORUSHIKA 2023&lt;/div&gt;
   &lt;img style=&#34;border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
    src=&#34;./images/image-20230223132320222.png&#34;&gt;
    &lt;br&gt;
&lt;/center&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;实际操作for大陆&#34;&gt;实际操作（for大陆）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;正规途径&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果有日本手机号 ==&amp;gt; 正常流程抽选 - 中选 - 支付 - 出票 etc&lt;/p&gt;
&lt;p&gt;没有 ==&amp;gt;正经人走什么正规途径（敲黑板）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;不太规范但更加方便的途径&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一个是通过&lt;a href=&#34;https://www.ticket.co.jp/&#34;&gt;票通&lt;/a&gt;收二手票。票通是一个专注演出票交易的日本网站，我看下来这种方式的优点是流程正规有安全保障，价格相对透明，缺点是需要知道其中的术语潜规则，需要自己挑入手时机、自己跟卖家沟通，有时候还需要被卖家集中起来（？）一起入场，所以完全不懂日语会比较麻烦。&lt;/p&gt;
&lt;center&gt;
    &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;&#34;&gt;票通&lt;/div&gt;
    &lt;img style=&#34;border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
    src=&#34;./images/image-20230223130658681.png&#34;&gt;
    &lt;br&gt;
&lt;/center&gt;
&lt;p&gt;另一个是淘宝代抽票，比如可以搜索”pia抽票“。&lt;/p&gt;
&lt;p&gt;这里也分成两种，&lt;u&gt;一种是商家直接帮你代抽&lt;/u&gt;，费用组成是商家抽票费用+（抽到了再付的）票费。这种优点是方便无脑，不过要弄清这个票是否要求&lt;a href=&#34;#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86&#34;&gt;「使用者身份与购票信息一致」&lt;/a&gt;，需要的话就意味着代抽时要提供自己的个人信息，这个就智者见智了。&lt;/p&gt;
&lt;p&gt;&lt;u&gt;另一种是商家提供日本手机号&lt;/u&gt;，费用自己直接支付。这一种相当于是全程自己操作，没有任何信息泄露风险，不会有「使用者与抽选者信息不一致」的问题，但相应地会增加自己的操作成本。&lt;/p&gt;
&lt;p&gt;另外，推特等SNS平台也是一种渠道，这就和国内wb收票有点像，最大区别是「同行者身份」这个老问题。&lt;/p&gt;
&lt;h3 id=&#34;小结tldr&#34;&gt;小结（TLDR）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;选择你的回合——fan club抽选/一般抽选或贩卖/二手市场&lt;/li&gt;
&lt;li&gt;选择你的英雄——各个买票渠道 不分先后&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1）tb代抽（全包 ver.）&lt;/p&gt;
&lt;p&gt;2）tb代抽（手机号ver）&lt;/p&gt;
&lt;p&gt;3）通过&lt;a href=&#34;https://www.ticket.co.jp/&#34;&gt;票通&lt;/a&gt;/官方resale/其他二手市场收二手票&lt;/p&gt;
&lt;p&gt;4）用日本（朋友的）手机号正常买&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用你的技能——在此基础上问清卖方以下问题&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1）票是否要求「同行者」的身份？最最重要的问题&lt;/p&gt;
&lt;p&gt;2）怎么把票给我？&lt;/p&gt;
&lt;p&gt;3）我到现场怎么用？（需要人带or直接进）&lt;/p&gt;
&lt;p&gt;*如果有出票需求，还可以问二次转让的问题&lt;/p&gt;
&lt;h2 id=&#34;02-卖票退票&#34;&gt;02 卖票/退票&lt;/h2&gt;
&lt;p&gt;考虑到跨国看live的时间轴长，不确定性更高，所以把卖票退票相关事宜一起整理出来。&lt;/p&gt;
&lt;h3 id=&#34;流程&#34;&gt;流程&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;官方原因停办：官方会退款&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;个人原因去不了：&lt;/p&gt;
&lt;p&gt;1）提交官方转售
可搜索关键词 演唱会名字+チケットリセール or 演唱会名字+チケットトレード&lt;/p&gt;
&lt;center&gt;
    &lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;&#34;&gt;米津官方转售页&lt;/div&gt;
    &lt;img style=&#34;border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; 
    src=&#34;./images/image-20230223142650083.png&#34;&gt;
    &lt;br&gt;
&lt;/center&gt;
&lt;p&gt;2）其他的二手市场如Mercari、雅虎拍卖、票通
或许对日语水平有一定要求&lt;/p&gt;
&lt;p&gt;3）tb代转卖（万能的、）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;费用及损失&#34;&gt;费用及损失&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;官方交易&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不管是退款还是官方转售，都是按照票面价给的。&lt;/p&gt;
&lt;p&gt;所以最终的Cost = 买入价格 - 票面价格&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;二手市场&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要看卖的时机和定价了，需要承担一定卖不出去的风险和与国际友人沟通造成的精神损失&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tb代卖&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;基本同上，还会附加tb转卖的手续费cost。&lt;/p&gt;
&lt;h3 id=&#34;随便举一个case&#34;&gt;随便举一个case&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;单位是rmb&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;票本体：450&lt;/p&gt;
&lt;p&gt;收票手续： X（取决于几抽出货） * tb手续费50～70&lt;/p&gt;
&lt;p&gt;转卖额外：+ 手续费算100&lt;/p&gt;
&lt;p&gt;总共损失= 手续费100～200&lt;/p&gt;
- http://eimy.ink/posts/2023/live-japan/ - 2026 EIMY</description>
        </item>
    
    
  </channel>
</rss> 